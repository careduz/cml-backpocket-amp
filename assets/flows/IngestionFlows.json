{"flowContents":{"identifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1","instanceIdentifier":"ffdf1c15-0186-1000-ffff-ffffe4167706","name":"IngestionFlows","comments":"","position":{"x":200.0,"y":-24.0},"processGroups":[{"identifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","instanceIdentifier":"34433474-4cf3-1d35-b6f7-8f4cad947442","name":"Get Fitbit data","comments":"","position":{"x":1056.0,"y":304.0},"processGroups":[{"identifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","instanceIdentifier":"b9573d8f-95ad-12c7-bed1-d7f1852cdfd1","name":"Fitbit User JWT","comments":"","position":{"x":-952.0,"y":1232.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"0566ca8a-48e5-3b2c-9b9b-c44c8cb725ed","instanceIdentifier":"7bd23835-ad3c-11ae-81d4-ef64a3a2efc6","name":"ControlRate","comments":"","position":{"x":-29.499922,"y":1049.0},"type":"org.apache.nifi.processors.standard.ControlRate","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Time Duration":"#{fitbit_app_api_refresh_rate_seconds} sec","Grouping Attribute":null,"Maximum Rate":"1","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"a8b16331-3527-35fd-a569-654bb3b4e5c5","instanceIdentifier":"0d333f31-ee1c-1d6a-be1b-068ded2ffd24","name":"Route request","comments":"","position":{"x":1250.5001,"y":369.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"is_get_code":"${http.request.url:contains(\"getCode\")}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"is_get_code":{"name":"is_get_code","displayName":"is_get_code","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"8eca3ec6-fffd-305e-ac7a-e6f8db05631f","instanceIdentifier":"2a2c3f2f-06ed-1e2b-998e-fa0766523f98","name":"Set Fitbit app attributes","comments":"","position":{"x":610.50006,"y":369.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","fitbit_app_client_id":"#{fitbit_app_client_id}","Stateful Variables Initial Value":null,"fitbit_app_client_secret":"#{fitbit_app_client_secret}","redirect_url":"http://127.0.0.1:8080/"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"fitbit_app_client_id":{"name":"fitbit_app_client_id","displayName":"fitbit_app_client_id","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"fitbit_app_client_secret":{"name":"fitbit_app_client_secret","displayName":"fitbit_app_client_secret","identifiesControllerService":false,"sensitive":false},"redirect_url":{"name":"redirect_url","displayName":"redirect_url","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"865c0a8b-2eff-3748-8a45-ff537f99cbce","instanceIdentifier":"13c43c18-17e1-1cbd-9323-ffb2189e7d18","name":"ReplaceText","comments":"","position":{"x":1250.5001,"y":857.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"client_id=${fitbit_app_client_id }&client_secret=${fitbit_app_client_secret}&redirect_uri=${redirect_url}&code=${code}&grant_type=authorization_code","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"68f40ad1-6488-30f6-af05-17bdc37dfd86","instanceIdentifier":"42073b56-b9fb-13f6-8160-664b72fee867","name":"Set attributes","comments":"Puts authorization code, refresh rate, and token_expiration_time_seconds into attributes for future use","position":{"x":1250.5001,"y":561.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"token_expiration_time_seconds":"28800","Delete Attributes Expression":null,"code":"${http.query.param.code}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","heartbeat_refresh_rate_seconds":"#{fitbit_app_api_refresh_rate_seconds}","Stateful Variables Initial Value":null},"propertyDescriptors":{"token_expiration_time_seconds":{"name":"token_expiration_time_seconds","displayName":"token_expiration_time_seconds","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"code":{"name":"code","displayName":"code","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"heartbeat_refresh_rate_seconds":{"name":"heartbeat_refresh_rate_seconds","displayName":"heartbeat_refresh_rate_seconds","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"f8361c96-9efe-3e1c-86fb-a91bb1557fed","instanceIdentifier":"3c7f3820-641c-1e4b-8e76-81cbeacecc57","name":"Respond - Success","comments":"","position":{"x":610.50006,"y":801.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"HTTP Context Map":"027d90f8-b86f-3178-832c-0ceb1aa1d689","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"501f6b0f-10ff-33e6-9ce4-b5aae06938bd","instanceIdentifier":"f39e3895-b173-183f-9248-da5dd912145c","name":"Request oauth2 permissions","comments":"","position":{"x":1890.5001,"y":369.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{fitbit_authorize_url}?response_type=code&client_id=${fitbit_app_client_id}&scope=activity+cardio_fitness+electrocardiogram+heartrate+location+nutrition+oxygen_saturation+profile+respiratory_rate+settings+sleep+social+temperature+weight&redirect_uri=${redirect_url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"3748f468-b780-31eb-87c0-8318996a736f","instanceIdentifier":"fb4439eb-fe1f-1613-b9e7-d12b8a456a00","name":"ReplaceText","comments":"","position":{"x":1890.5001,"y":857.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${invokehttp.response.body}","Evaluation Mode":"Entire text","Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace"},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"15679c61-68f0-3358-94c5-35ed53242865","instanceIdentifier":"7dc73756-e508-154c-82f4-2f35994dedf6","name":"Listen to HTTP request","comments":"","position":{"x":610.50006,"y":561.0},"type":"org.apache.nifi.processors.standard.HandleHttpRequest","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"multipart-request-max-size":"1 MB","parameters-to-attributes":"user,client_id","Allow POST":"false","Hostname":"localhost","Default URL Character Set":"UTF-8","Allow DELETE":"false","HTTP Protocols":"HTTP_1_1","Additional HTTP Methods":null,"container-queue-size":"50","HTTP Context Map":"027d90f8-b86f-3178-832c-0ceb1aa1d689","multipart-read-buffer-size":"512 KB","SSL Context Service":null,"Allow OPTIONS":"false","Allowed Paths":null,"Allow GET":"true","Allow HEAD":"false","Listening Port":"8080","Client Authentication":"No Authentication","Allow PUT":"false"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false},"parameters-to-attributes":{"name":"parameters-to-attributes","displayName":"Parameters to Attributes List","identifiesControllerService":false,"sensitive":false},"Allow POST":{"name":"Allow POST","displayName":"Allow POST","identifiesControllerService":false,"sensitive":false},"Hostname":{"name":"Hostname","displayName":"Hostname","identifiesControllerService":false,"sensitive":false},"Default URL Character Set":{"name":"Default URL Character Set","displayName":"Default URL Character Set","identifiesControllerService":false,"sensitive":false},"Allow DELETE":{"name":"Allow DELETE","displayName":"Allow DELETE","identifiesControllerService":false,"sensitive":false},"HTTP Protocols":{"name":"HTTP Protocols","displayName":"HTTP Protocols","identifiesControllerService":false,"sensitive":false},"Additional HTTP Methods":{"name":"Additional HTTP Methods","displayName":"Additional HTTP Methods","identifiesControllerService":false,"sensitive":false},"container-queue-size":{"name":"container-queue-size","displayName":"Container Queue Size","identifiesControllerService":false,"sensitive":false},"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Allow OPTIONS":{"name":"Allow OPTIONS","displayName":"Allow OPTIONS","identifiesControllerService":false,"sensitive":false},"Allowed Paths":{"name":"Allowed Paths","displayName":"Allowed Paths","identifiesControllerService":false,"sensitive":false},"Allow GET":{"name":"Allow GET","displayName":"Allow GET","identifiesControllerService":false,"sensitive":false},"Allow HEAD":{"name":"Allow HEAD","displayName":"Allow HEAD","identifiesControllerService":false,"sensitive":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false},"Client Authentication":{"name":"Client Authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false},"Allow PUT":{"name":"Allow PUT","displayName":"Allow PUT","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"45dde715-ba97-3656-bedf-fa7f0df67e45","instanceIdentifier":"919636c2-40ed-1930-bf7f-26f106b36088","name":"Respond - Failure","comments":"","position":{"x":1890.5001,"y":1049.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"HTTP Context Map":"027d90f8-b86f-3178-832c-0ceb1aa1d689","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"500"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"8ab546cb-2bea-3434-9f43-83c8abcde442","instanceIdentifier":"4da33091-40e2-1669-9fb8-fba810f13fa1","name":"Respond - Success","comments":"","position":{"x":1890.5001,"y":561.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"HTTP Context Map":"027d90f8-b86f-3178-832c-0ceb1aa1d689","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"d0860f7f-5937-3d9c-a7e6-4caf0974c61e","instanceIdentifier":"c8563483-0cc5-1b3e-b676-ca9c7fbb1e17","name":"Duplicate oauth2 tokens","comments":"","position":{"x":610.50006,"y":1049.0},"type":"org.apache.nifi.processors.standard.DuplicateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Number of Copies":"${\n\ttoken_expiration_time_seconds\n\t:toNumber()\n\t:divide(\n\t\t${\n\t\t\theartbeat_refresh_rate_seconds:toNumber()\n\t\t}\n\t)\n}"},"propertyDescriptors":{"Number of Copies":{"name":"Number of Copies","displayName":"Number of Copies","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"8ce77599-8446-32f6-a800-20e7d41d9597","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6","name":"InvokeHTTP","comments":"","position":{"x":1250.5001,"y":1049.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","Authorization":"Basic ${\n\tfitbit_app_client_id\n\t:append(\":\")\n\t:append(${fitbit_app_client_secret})\n\t:base64Encode()\n}","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{fitbit_request_token_url}","form-body-form-name":null,"Content-Type":"application/x-www-form-urlencoded","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","Digest Authentication":"false","HTTP Method":"POST","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"}],"inputPorts":[],"outputPorts":[{"identifier":"0262bcc5-5be3-34e7-b1d9-8f7286c1cb54","instanceIdentifier":"6487342f-ca8c-1b82-9e6c-16edb1daba68","name":"Tokens","position":{"x":32.0,"y":904.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"}],"connections":[{"identifier":"c822e44a-0167-3bc7-804c-8012586d1164","instanceIdentifier":"98b837db-0566-183f-8cdb-aaa12346670d","name":"","source":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"destination":{"id":"f8361c96-9efe-3e1c-86fb-a91bb1557fed","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Respond - Success","comments":"","instanceIdentifier":"3c7f3820-641c-1e4b-8e76-81cbeacecc57"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"bfec341b-110e-30db-b002-d00d5adf61eb","instanceIdentifier":"d76d398f-b486-1e00-8418-6eb375bc6369","name":"","source":{"id":"501f6b0f-10ff-33e6-9ce4-b5aae06938bd","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Request oauth2 permissions","comments":"","instanceIdentifier":"f39e3895-b173-183f-9248-da5dd912145c"},"destination":{"id":"501f6b0f-10ff-33e6-9ce4-b5aae06938bd","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Request oauth2 permissions","comments":"","instanceIdentifier":"f39e3895-b173-183f-9248-da5dd912145c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry","Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1714.809,"y":360.16046},{"x":1930.809,"y":344.16046}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"db74875b-9e24-306b-82f6-43ab5db183fb","instanceIdentifier":"8217375a-c780-1b33-8f96-7801f130c293","name":"","source":{"id":"8eca3ec6-fffd-305e-ac7a-e6f8db05631f","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Set Fitbit app attributes","comments":"","instanceIdentifier":"2a2c3f2f-06ed-1e2b-998e-fa0766523f98"},"destination":{"id":"a8b16331-3527-35fd-a569-654bb3b4e5c5","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Route request","comments":"","instanceIdentifier":"0d333f31-ee1c-1d6a-be1b-068ded2ffd24"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"829a566c-44b1-3ae1-a1b4-6cffbbec1e19","instanceIdentifier":"645b3d5a-ed6c-1dd1-a2d3-0308b840aba5","name":"","source":{"id":"a8b16331-3527-35fd-a569-654bb3b4e5c5","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Route request","comments":"","instanceIdentifier":"0d333f31-ee1c-1d6a-be1b-068ded2ffd24"},"destination":{"id":"501f6b0f-10ff-33e6-9ce4-b5aae06938bd","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Request oauth2 permissions","comments":"","instanceIdentifier":"f39e3895-b173-183f-9248-da5dd912145c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_get_code"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"37ddd6b5-53d8-307e-abdd-509d19ba5919","instanceIdentifier":"093537d2-81e8-1712-a216-fc6597ea2d8b","name":"","source":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"destination":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1138.5001,"y":1081.0},{"x":1106.5001,"y":1041.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"d0087d2f-e47a-339c-88ab-956c590401c2","instanceIdentifier":"51183ab8-20bb-19a5-b056-f7f8f939c8f9","name":"","source":{"id":"a8b16331-3527-35fd-a569-654bb3b4e5c5","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Route request","comments":"","instanceIdentifier":"0d333f31-ee1c-1d6a-be1b-068ded2ffd24"},"destination":{"id":"68f40ad1-6488-30f6-af05-17bdc37dfd86","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Set attributes","comments":"Puts authorization code, refresh rate, and token_expiration_time_seconds into attributes for future use","instanceIdentifier":"42073b56-b9fb-13f6-8160-664b72fee867"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"43119f43-4c22-3af2-871f-e438ad213dc0","instanceIdentifier":"7d843de4-153f-1242-9fff-8d29607935bf","name":"","source":{"id":"3748f468-b780-31eb-87c0-8318996a736f","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ReplaceText","comments":"","instanceIdentifier":"fb4439eb-fe1f-1613-b9e7-d12b8a456a00"},"destination":{"id":"45dde715-ba97-3656-bedf-fa7f0df67e45","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Respond - Failure","comments":"","instanceIdentifier":"919636c2-40ed-1930-bf7f-26f106b36088"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"1b0c6032-7dc3-3143-9407-10e596889e39","instanceIdentifier":"b7ad3052-abad-120f-bda7-9b2853f5ee2c","name":"","source":{"id":"68f40ad1-6488-30f6-af05-17bdc37dfd86","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Set attributes","comments":"Puts authorization code, refresh rate, and token_expiration_time_seconds into attributes for future use","instanceIdentifier":"42073b56-b9fb-13f6-8160-664b72fee867"},"destination":{"id":"865c0a8b-2eff-3748-8a45-ff537f99cbce","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ReplaceText","comments":"","instanceIdentifier":"13c43c18-17e1-1cbd-9323-ffb2189e7d18"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"124bbf4c-7a03-34b1-b4e6-4b79afdf6725","instanceIdentifier":"3ce8376e-6c86-194d-a486-bffd38414126","name":"","source":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"destination":{"id":"45dde715-ba97-3656-bedf-fa7f0df67e45","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Respond - Failure","comments":"","instanceIdentifier":"919636c2-40ed-1930-bf7f-26f106b36088"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"b42fdf79-c222-387d-8d91-0b5f3d8e5c34","instanceIdentifier":"4ebc3bf9-ad1a-18b5-b648-d0362ac016c8","name":"","source":{"id":"15679c61-68f0-3358-94c5-35ed53242865","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Listen to HTTP request","comments":"","instanceIdentifier":"7dc73756-e508-154c-82f4-2f35994dedf6"},"destination":{"id":"8eca3ec6-fffd-305e-ac7a-e6f8db05631f","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Set Fitbit app attributes","comments":"","instanceIdentifier":"2a2c3f2f-06ed-1e2b-998e-fa0766523f98"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"0ac3bfc4-e6b5-3459-99f5-31012e2c1185","instanceIdentifier":"eae53f13-866b-1282-ab0a-c31e4bc669bd","name":"","source":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"destination":{"id":"d0860f7f-5937-3d9c-a7e6-4caf0974c61e","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Duplicate oauth2 tokens","comments":"","instanceIdentifier":"c8563483-0cc5-1b3e-b676-ca9c7fbb1e17"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"1e6474d1-6888-3afd-aecb-6ef7512acabc","instanceIdentifier":"cbbf3a64-53a0-1b52-a9ca-2d090d958e48","name":"","source":{"id":"501f6b0f-10ff-33e6-9ce4-b5aae06938bd","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Request oauth2 permissions","comments":"","instanceIdentifier":"f39e3895-b173-183f-9248-da5dd912145c"},"destination":{"id":"8ab546cb-2bea-3434-9f43-83c8abcde442","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Respond - Success","comments":"","instanceIdentifier":"4da33091-40e2-1669-9fb8-fba810f13fa1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"914a77cf-a234-3718-b7fd-4c8a953e5035","instanceIdentifier":"823137b2-ebff-1811-910e-023e6c97f12e","name":"","source":{"id":"0566ca8a-48e5-3b2c-9b9b-c44c8cb725ed","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ControlRate","comments":"","instanceIdentifier":"7bd23835-ad3c-11ae-81d4-ef64a3a2efc6"},"destination":{"id":"0262bcc5-5be3-34e7-b1d9-8f7286c1cb54","type":"OUTPUT_PORT","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Tokens","instanceIdentifier":"6487342f-ca8c-1b82-9e6c-16edb1daba68"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"68908fe4-2f72-34a6-80e0-657188294e9e","instanceIdentifier":"36423fd7-09a8-14fd-ba57-99abf6eb3fe6","name":"","source":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"destination":{"id":"3748f468-b780-31eb-87c0-8318996a736f","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ReplaceText","comments":"","instanceIdentifier":"fb4439eb-fe1f-1613-b9e7-d12b8a456a00"},"labelIndex":1,"zIndex":0,"selectedRelationships":["No Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"d5bd13f6-4f98-31a3-bafc-4615ac0f182f","instanceIdentifier":"1a5a3c22-db7c-1c0a-ba6c-cf1727fa0ff8","name":"","source":{"id":"d0860f7f-5937-3d9c-a7e6-4caf0974c61e","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Duplicate oauth2 tokens","comments":"","instanceIdentifier":"c8563483-0cc5-1b3e-b676-ca9c7fbb1e17"},"destination":{"id":"0566ca8a-48e5-3b2c-9b9b-c44c8cb725ed","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ControlRate","comments":"","instanceIdentifier":"7bd23835-ad3c-11ae-81d4-ef64a3a2efc6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"28800 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"34abf83c-6795-3891-8607-5a51e0cdce06","instanceIdentifier":"f9aa3c75-337e-1ae5-b5c4-af8619e56662","name":"","source":{"id":"865c0a8b-2eff-3748-8a45-ff537f99cbce","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"ReplaceText","comments":"","instanceIdentifier":"13c43c18-17e1-1cbd-9323-ffb2189e7d18"},"destination":{"id":"8ce77599-8446-32f6-a800-20e7d41d9597","type":"PROCESSOR","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"InvokeHTTP","comments":"","instanceIdentifier":"dfa031ff-e75e-1d3b-b48b-a046e6b343b6"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"}],"labels":[{"identifier":"9a5ff188-6ec2-39ba-adf4-cb6ceb2b8c8d","instanceIdentifier":"51fb33b2-de9e-1418-981f-1ba0ca58c109","position":{"x":538.50006,"y":185.00002},"label":"AUTHORIZATION CODE\n\nYou can also generate the URL manually from: https://dev.fitbit.com/build/reference/web-api/troubleshooting-guide/oauth2-tutorial\n\nWith the Fitbit Client ID and Secret (other fields are optional). Click on the generated Authorization URL and copy the URL in the browser.\n\nIt will look like: http://127.0.0.1:8080/?code=5e197d8bba4debdef830157b63f1c66a7ad05bb9#_=_\n","zIndex":0,"width":1784.0,"height":520.0,"style":{"background-color":"#d6fff7","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"},{"identifier":"21b5a5ab-cb86-3941-ae66-344454e44a41","instanceIdentifier":"40623024-b5cc-14bb-86fd-d45f894a744c","position":{"x":-56.0,"y":704.0},"label":"OAUTH2 TOKEN\n\nIf the UI isn't working above, can trigger manually from inside a NiFi node via:\ncurl http://127.0.0.1:8080/?code=997e5eec32e49a757f3d377cdad829eddcb44a6e#_=_\n\nSends OAUTH2 tokens to Kafka topic every #{api_refresh_rate_seconds} seconds","zIndex":0,"width":2376.0,"height":488.0,"style":{"background-color":"#f1d6ff","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"66239867-4f5f-3e73-bc8b-fb3f5192d53f"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","instanceIdentifier":"758c3aee-68ca-1ee4-a6a1-209c98194a96","name":"Prep heartbeat data","comments":"","position":{"x":-384.0,"y":1928.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"1e40fe49-9d10-31c5-b1a5-70a618d840c7","instanceIdentifier":"2e83361f-ed79-165b-b6c4-f85976fc327e","name":"Rename fields to fit schema","comments":"Schema Registry does not accept \"-\" in field names. Operator simply renames 2 fields to fit schema.","position":{"x":336.0,"y":280.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"activities-heart\": \"activitiesHeart\",\n      \"activities-heart-intraday\": \"activitiesHeartIntraday\"\n    }\n  }]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"8d8a8892-67f0-3d79-ba0c-84bb8cdea4b9","instanceIdentifier":"917f35fd-80b5-19f9-8367-44931f45261d","name":"Set schema, kafka topic, event time","comments":"","position":{"x":920.0,"y":280.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"#{schema_fitbit_heartbeat}","kafka_topic":"#{kafka_topic_fitbit_heartbeats}","Stateful Variables Initial Value":null,"event_timestamp":"${\n\tevent_date\n\t:append(\" \")\n\t:append(${event_time})\n\t:toDate(\"yyyy-MM-dd HH:mm:ss\", \"EST\")\n\t:toNumber()\n}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"kafka_topic":{"name":"kafka_topic","displayName":"kafka_topic","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"event_timestamp":{"name":"event_timestamp","displayName":"event_timestamp","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"0427bbd5-4c2f-39f8-b974-fc39ecf74ec9","instanceIdentifier":"b5fb3fdd-b613-128d-acb5-00edba775038","name":"Set event timestamp","comments":"","position":{"x":1504.0,"y":280.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"/eventTimestamp":"${event_timestamp}","record-writer":"e726333a-1f34-3292-8640-c808a6383601","record-reader":"96b34abb-ad12-3798-9fea-2e53f2b74d1b","replacement-value-strategy":"literal-value"},"propertyDescriptors":{"/eventTimestamp":{"name":"/eventTimestamp","displayName":"/eventTimestamp","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"9d184e5e-a440-38db-a3f9-ae898fc20f0d","instanceIdentifier":"de183e02-52bf-1d63-b2ba-b313251b98cd","name":"Enrich heartbeats","comments":"Add date, granularity, and interval to each heartbeat from the API response data elsewhere in the record","position":{"x":336.0,"y":664.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"record-writer":"e726333a-1f34-3292-8640-c808a6383601","/activitiesHeartIntraday/dataset[0..-1]/interval":"/activitiesHeartIntraday/datasetInterval","record-reader":"96b34abb-ad12-3798-9fea-2e53f2b74d1b","/activitiesHeartIntraday/dataset[0..-1]/date":"/activitiesHeart[0]/dateTime","replacement-value-strategy":"record-path-value","/activitiesHeartIntraday/dataset[0..-1]/granularity":"/activitiesHeartIntraday/datasetType"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"/activitiesHeartIntraday/dataset[0..-1]/interval":{"name":"/activitiesHeartIntraday/dataset[0..-1]/interval","displayName":"/activitiesHeartIntraday/dataset[0..-1]/interval","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"/activitiesHeartIntraday/dataset[0..-1]/date":{"name":"/activitiesHeartIntraday/dataset[0..-1]/date","displayName":"/activitiesHeartIntraday/dataset[0..-1]/date","identifiesControllerService":false,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false},"/activitiesHeartIntraday/dataset[0..-1]/granularity":{"name":"/activitiesHeartIntraday/dataset[0..-1]/granularity","displayName":"/activitiesHeartIntraday/dataset[0..-1]/granularity","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"e2a39b98-8d76-3cd2-a353-14e0c9300c5d","instanceIdentifier":"247b3541-fb13-1d0f-a6a7-bef5bd99b2f7","name":"Split heartbeats","comments":"","position":{"x":920.0,"y":664.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.[0].activitiesHeartIntraday.dataset.*"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"8092a1fe-d8c0-3c46-9b4a-8f738cef2e1f","instanceIdentifier":"78343253-cfc1-16c9-b800-443510aec409","name":"Enrich with attributes","comments":"Add to response and heartbeats: userID, requestTimestamp","position":{"x":336.0,"y":472.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"//activitiesHeartIntraday/dataset[0..-1]/eventTimestamp":"${request_timestamp}","/requestTimestamp":"${request_timestamp}","/userID":"${user_id}","record-writer":"e726333a-1f34-3292-8640-c808a6383601","/activitiesHeartIntraday/dataset[0..-1]/requestTimestamp":"${request_timestamp}","record-reader":"96b34abb-ad12-3798-9fea-2e53f2b74d1b","replacement-value-strategy":"literal-value","/activitiesHeartIntraday/dataset[0..-1]/userID":"${user_id}"},"propertyDescriptors":{"//activitiesHeartIntraday/dataset[0..-1]/eventTimestamp":{"name":"//activitiesHeartIntraday/dataset[0..-1]/eventTimestamp","displayName":"//activitiesHeartIntraday/dataset[0..-1]/eventTimestamp","identifiesControllerService":false,"sensitive":false},"/requestTimestamp":{"name":"/requestTimestamp","displayName":"/requestTimestamp","identifiesControllerService":false,"sensitive":false},"/userID":{"name":"/userID","displayName":"/userID","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"/activitiesHeartIntraday/dataset[0..-1]/requestTimestamp":{"name":"/activitiesHeartIntraday/dataset[0..-1]/requestTimestamp","displayName":"/activitiesHeartIntraday/dataset[0..-1]/requestTimestamp","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false},"/activitiesHeartIntraday/dataset[0..-1]/userID":{"name":"/activitiesHeartIntraday/dataset[0..-1]/userID","displayName":"/activitiesHeartIntraday/dataset[0..-1]/userID","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"e556787a-6642-3c70-9939-46ee16969780","instanceIdentifier":"8fc63430-b5f4-100e-8e9d-5898ef9d3e97","name":"Get parts for event timestamp","comments":"","position":{"x":920.0,"y":472.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","event_date":"$.date","Null Value Representation":"empty string","event_time":"$.time","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"event_date":{"name":"event_date","displayName":"event_date","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"event_time":{"name":"event_time","displayName":"event_time","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"}],"inputPorts":[{"identifier":"16f8f2a1-15fa-3137-ba3e-a29c62178788","instanceIdentifier":"224e3d4b-5fba-130f-8bd5-53ef9622a36f","name":"Fitbit API intraday heartbeat response","position":{"x":392.0,"y":160.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"}],"outputPorts":[{"identifier":"49daec6e-10e6-3e59-aaa9-74aee5abcbc0","instanceIdentifier":"b7a23004-4132-1039-b3aa-884d6a1e07be","name":"Heartbeats","comments":"Includes individual and daily heartbeats","position":{"x":1560.0,"y":160.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"}],"connections":[{"identifier":"cbf1ba56-090e-3371-b765-e0111e88d23a","instanceIdentifier":"2dfd3db0-daab-1d16-933e-0a6f7a4a37ed","name":"","source":{"id":"0427bbd5-4c2f-39f8-b974-fc39ecf74ec9","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Set event timestamp","comments":"","instanceIdentifier":"b5fb3fdd-b613-128d-acb5-00edba775038"},"destination":{"id":"49daec6e-10e6-3e59-aaa9-74aee5abcbc0","type":"OUTPUT_PORT","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Heartbeats","comments":"Includes individual and daily heartbeats","instanceIdentifier":"b7a23004-4132-1039-b3aa-884d6a1e07be"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"d750c0a5-d1d7-3c72-96a6-ef3f6b447320","instanceIdentifier":"dc2c3c85-c0d9-1b94-934d-8e60f932ad81","name":"","source":{"id":"8d8a8892-67f0-3d79-ba0c-84bb8cdea4b9","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Set schema, kafka topic, event time","comments":"","instanceIdentifier":"917f35fd-80b5-19f9-8367-44931f45261d"},"destination":{"id":"0427bbd5-4c2f-39f8-b974-fc39ecf74ec9","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Set event timestamp","comments":"","instanceIdentifier":"b5fb3fdd-b613-128d-acb5-00edba775038"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"b1e8c592-fef9-37ad-8f99-6a9e4b72f140","instanceIdentifier":"048c314c-4e23-15fe-abc8-2029ea439d2a","name":"","source":{"id":"9d184e5e-a440-38db-a3f9-ae898fc20f0d","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Enrich heartbeats","comments":"Add date, granularity, and interval to each heartbeat from the API response data elsewhere in the record","instanceIdentifier":"de183e02-52bf-1d63-b2ba-b313251b98cd"},"destination":{"id":"e2a39b98-8d76-3cd2-a353-14e0c9300c5d","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Split heartbeats","comments":"","instanceIdentifier":"247b3541-fb13-1d0f-a6a7-bef5bd99b2f7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"64a968c3-5fde-3224-943f-c1ed32bc5e8e","instanceIdentifier":"5c93340e-c51e-161a-9216-0ca3b94f649a","name":"","source":{"id":"e2a39b98-8d76-3cd2-a353-14e0c9300c5d","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Split heartbeats","comments":"","instanceIdentifier":"247b3541-fb13-1d0f-a6a7-bef5bd99b2f7"},"destination":{"id":"e556787a-6642-3c70-9939-46ee16969780","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Get parts for event timestamp","comments":"","instanceIdentifier":"8fc63430-b5f4-100e-8e9d-5898ef9d3e97"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"e36322ca-2329-33c6-87fb-9b515c3c9167","instanceIdentifier":"6e203eab-9910-1c0e-876d-504883e4c6d8","name":"","source":{"id":"16f8f2a1-15fa-3137-ba3e-a29c62178788","type":"INPUT_PORT","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Fitbit API intraday heartbeat response","instanceIdentifier":"224e3d4b-5fba-130f-8bd5-53ef9622a36f"},"destination":{"id":"1e40fe49-9d10-31c5-b1a5-70a618d840c7","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Rename fields to fit schema","comments":"Schema Registry does not accept \"-\" in field names. Operator simply renames 2 fields to fit schema.","instanceIdentifier":"2e83361f-ed79-165b-b6c4-f85976fc327e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"88ed93f3-a425-347d-9d13-dcede901266c","instanceIdentifier":"b01b3693-9be2-1020-bbc7-17da8df9d583","name":"","source":{"id":"e556787a-6642-3c70-9939-46ee16969780","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Get parts for event timestamp","comments":"","instanceIdentifier":"8fc63430-b5f4-100e-8e9d-5898ef9d3e97"},"destination":{"id":"8d8a8892-67f0-3d79-ba0c-84bb8cdea4b9","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Set schema, kafka topic, event time","comments":"","instanceIdentifier":"917f35fd-80b5-19f9-8367-44931f45261d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"05f0253b-ec4a-31e1-8a08-c73cc54883a3","instanceIdentifier":"b5f13ca7-ec2e-145a-82f2-d50387584ee7","name":"","source":{"id":"1e40fe49-9d10-31c5-b1a5-70a618d840c7","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Rename fields to fit schema","comments":"Schema Registry does not accept \"-\" in field names. Operator simply renames 2 fields to fit schema.","instanceIdentifier":"2e83361f-ed79-165b-b6c4-f85976fc327e"},"destination":{"id":"8092a1fe-d8c0-3c46-9b4a-8f738cef2e1f","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Enrich with attributes","comments":"Add to response and heartbeats: userID, requestTimestamp","instanceIdentifier":"78343253-cfc1-16c9-b800-443510aec409"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"},{"identifier":"36339b34-7a0c-375a-97ee-0dc596f2a33f","instanceIdentifier":"3bdb3d40-24c2-1915-b34b-b948d6cbc353","name":"","source":{"id":"8092a1fe-d8c0-3c46-9b4a-8f738cef2e1f","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Enrich with attributes","comments":"Add to response and heartbeats: userID, requestTimestamp","instanceIdentifier":"78343253-cfc1-16c9-b800-443510aec409"},"destination":{"id":"9d184e5e-a440-38db-a3f9-ae898fc20f0d","type":"PROCESSOR","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Enrich heartbeats","comments":"Add date, granularity, and interval to each heartbeat from the API response data elsewhere in the record","instanceIdentifier":"de183e02-52bf-1d63-b2ba-b313251b98cd"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"}],"remoteProcessGroups":[],"processors":[{"identifier":"b2e3cbdc-1a38-3419-857f-9d6776d2241c","instanceIdentifier":"8efe37ce-79f2-17ea-9034-65cfab8eca94","name":"Set schema & kafka topic names","comments":"","position":{"x":-368.0,"y":1680.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"request_timestamp":"${now():toNumber()}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"#{schema_fitbit_intraday_heartbeats}","kafka_topic":"#{kafka_topic_fitbit_day_heartbeats}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"request_timestamp":{"name":"request_timestamp","displayName":"request_timestamp","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"kafka_topic":{"name":"kafka_topic","displayName":"kafka_topic","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"0421afc3-caa2-3fed-8c34-b74dc6f98499","instanceIdentifier":"791832ed-275d-1912-9f23-15e10f9735a0","name":"Publish heartbeat","comments":"","position":{"x":336.0,"y":1952.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka2RecordCDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"compression.type":"none","attribute-name-regex":null,"record-writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","bootstrap.servers":"#{kafka_brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"partition":null,"record-key-writer":null,"sasl.mechanism":"PLAIN","max.block.ms":"5 sec","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringProducerInterceptor","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","message-header-encoding":"UTF-8","kerberos-user-service":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{workload_username}","use-transactions":"true","acks":"all","Record Metadata Strategy":"Use Configured Values","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","max.request.size":"1 MB","sasl.token.auth":"false","message-key-field":null,"Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"${kafka_topic}","sasl.password":"#{workload_password}","publish-strategy":"USE_VALUE"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"record-key-writer":{"name":"record-key-writer","displayName":"Record Key Writer","identifiesControllerService":true,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"Record Metadata Strategy":{"name":"Record Metadata Strategy","displayName":"Record Metadata Strategy","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"message-key-field":{"name":"message-key-field","displayName":"Message Key Field","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"publish-strategy":{"name":"publish-strategy","displayName":"Publish Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"7cb2c2c0-6e54-3523-a95f-6c4562dd8243","instanceIdentifier":"48223a04-821f-1700-89be-2d0394291c61","name":"Get intraday heartbeats","comments":"","position":{"x":336.0,"y":1680.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","Authorization":"Bearer ${access_token}","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://api.fitbit.com/1/user/-/activities/heart/date/today/1d/1sec.json?timezone=EST","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"Authorization":{"name":"Authorization","displayName":"Authorization","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"10 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"ec525981-7d10-3961-ab64-ac8df8453a01","instanceIdentifier":"2f683b72-5d96-136d-be6b-507a72c8ca63","name":"Consume oauth2 token","comments":"","position":{"x":-368.0,"y":1488.0},"type":"org.apache.nifi.processors.kafka.pubsub.ConsumeKafka2CDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"header-name-regex":null,"Commit Offsets":"true","group.id":"heartbeat-metric-trigger","bootstrap.servers":"#{kafka_brokers}","topic_type":"names","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"max-uncommit-offset-wait":"1 secs","sasl.mechanism":"PLAIN","honor-transactions":"false","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringConsumerInterceptor","kerberos-user-service":null,"message-header-encoding":"UTF-8","message-demarcator":null,"sasl.username":"#{workload_username}","max.poll.records":"1","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","sasl.token.auth":"false","sasl.kerberos.keytab":null,"Communications Timeout":"60 secs","topic":"#{kafka_topic_fitbit_api_tokens}","separate-by-key":"false","sasl.password":"#{workload_password}","key-attribute-encoding":"utf-8","auto.offset.reset":"latest"},"propertyDescriptors":{"header-name-regex":{"name":"header-name-regex","displayName":"Headers to Add as Attributes (Regex)","identifiesControllerService":false,"sensitive":false},"Commit Offsets":{"name":"Commit Offsets","displayName":"Commit Offsets","identifiesControllerService":false,"sensitive":false},"group.id":{"name":"group.id","displayName":"Group ID","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"topic_type":{"name":"topic_type","displayName":"Topic Name Format","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"max-uncommit-offset-wait":{"name":"max-uncommit-offset-wait","displayName":"Max Uncommitted Time","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"honor-transactions":{"name":"honor-transactions","displayName":"Honor Transactions","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"max.poll.records":{"name":"max.poll.records","displayName":"Max Poll Records","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false},"topic":{"name":"topic","displayName":"Topic Name(s)","identifiesControllerService":false,"sensitive":false},"separate-by-key":{"name":"separate-by-key","displayName":"Separate By Key","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false},"auto.offset.reset":{"name":"auto.offset.reset","displayName":"Offset Reset","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"280e3673-b636-384d-8dbd-b4308ea7efc1","instanceIdentifier":"4cc537c2-e98c-14b5-ad40-6ac9bde309fb","name":"Publish oauth2 token","comments":"","position":{"x":-272.0,"y":1264.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka2CDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"compression.type":"none","attribute-name-regex":null,"bootstrap.servers":"#{kafka_brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"kafka-key":null,"partition":null,"sasl.mechanism":"PLAIN","max.block.ms":"5 sec","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringProducerInterceptor","message-header-encoding":"UTF-8","kerberos-user-service":null,"message-demarcator":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{workload_username}","use-transactions":"false","acks":"all","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","max.request.size":"1 MB","sasl.token.auth":"false","Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"#{kafka_topic_fitbit_api_tokens}","sasl.password":"#{workload_password}","key-attribute-encoding":"utf-8"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"kafka-key":{"name":"kafka-key","displayName":"Kafka Key","identifiesControllerService":false,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"message-demarcator":{"name":"message-demarcator","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"key-attribute-encoding":{"name":"key-attribute-encoding","displayName":"Key Attribute Encoding","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"d75a76fc-daf4-317a-80ea-b42b137b75eb","instanceIdentifier":"99cb3ee1-56d7-11c1-b785-a50d3a885982","name":"Extract token data","comments":"","position":{"x":336.0,"y":1488.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"access_token":"$.access_token","Destination":"flowfile-attribute","user_id":"$.user_id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"access_token":{"name":"access_token","displayName":"access_token","identifiesControllerService":false,"sensitive":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"user_id":{"name":"user_id","displayName":"user_id","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"0f40be80-a5a0-32de-83ac-bac6a5c9a377","instanceIdentifier":"d7c83166-a295-11ef-8fdc-da702cdc8025","name":"","source":{"id":"49daec6e-10e6-3e59-aaa9-74aee5abcbc0","type":"OUTPUT_PORT","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Heartbeats","comments":"Includes individual and daily heartbeats","instanceIdentifier":"b7a23004-4132-1039-b3aa-884d6a1e07be"},"destination":{"id":"0421afc3-caa2-3fed-8c34-b74dc6f98499","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Publish heartbeat","comments":"","instanceIdentifier":"791832ed-275d-1912-9f23-15e10f9735a0"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"c4ae39e2-6951-3f6a-8c7a-33f458cdd1cc","instanceIdentifier":"50313c6e-5c11-1177-8298-467417ea500f","name":"","source":{"id":"0262bcc5-5be3-34e7-b1d9-8f7286c1cb54","type":"OUTPUT_PORT","groupId":"66239867-4f5f-3e73-bc8b-fb3f5192d53f","name":"Tokens","instanceIdentifier":"6487342f-ca8c-1b82-9e6c-16edb1daba68"},"destination":{"id":"280e3673-b636-384d-8dbd-b4308ea7efc1","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Publish oauth2 token","comments":"","instanceIdentifier":"4cc537c2-e98c-14b5-ad40-6ac9bde309fb"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"d7379e3b-e184-3364-bb5f-940a6999937d","instanceIdentifier":"b8f93420-5b91-1312-aa66-cb2a059870e2","name":"","source":{"id":"d75a76fc-daf4-317a-80ea-b42b137b75eb","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Extract token data","comments":"","instanceIdentifier":"99cb3ee1-56d7-11c1-b785-a50d3a885982"},"destination":{"id":"7cb2c2c0-6e54-3523-a95f-6c4562dd8243","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Get intraday heartbeats","comments":"","instanceIdentifier":"48223a04-821f-1700-89be-2d0394291c61"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"60 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"0c886a5a-8071-3e26-8c66-262be17342d6","instanceIdentifier":"630d3667-9de3-132a-9d61-fef34b433507","name":"","source":{"id":"ec525981-7d10-3961-ab64-ac8df8453a01","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Consume oauth2 token","comments":"","instanceIdentifier":"2f683b72-5d96-136d-be6b-507a72c8ca63"},"destination":{"id":"d75a76fc-daf4-317a-80ea-b42b137b75eb","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Extract token data","comments":"","instanceIdentifier":"99cb3ee1-56d7-11c1-b785-a50d3a885982"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"f513e92a-1b8a-3873-9c35-dcfc40e2df2d","instanceIdentifier":"68e137b8-5742-13a7-b8e7-2e83584d031c","name":"","source":{"id":"b2e3cbdc-1a38-3419-857f-9d6776d2241c","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Set schema & kafka topic names","comments":"","instanceIdentifier":"8efe37ce-79f2-17ea-9034-65cfab8eca94"},"destination":{"id":"16f8f2a1-15fa-3137-ba3e-a29c62178788","type":"INPUT_PORT","groupId":"f9b5c9c5-b6c2-31b3-9c77-2c60f2d245f2","name":"Fitbit API intraday heartbeat response","instanceIdentifier":"224e3d4b-5fba-130f-8bd5-53ef9622a36f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"},{"identifier":"509c12df-6258-340a-91f9-de238eb999eb","instanceIdentifier":"95ae3ed9-d9f9-122f-bdcc-db2e88a98d88","name":"","source":{"id":"7cb2c2c0-6e54-3523-a95f-6c4562dd8243","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Get intraday heartbeats","comments":"","instanceIdentifier":"48223a04-821f-1700-89be-2d0394291c61"},"destination":{"id":"b2e3cbdc-1a38-3419-857f-9d6776d2241c","type":"PROCESSOR","groupId":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b","name":"Set schema & kafka topic names","comments":"","instanceIdentifier":"8efe37ce-79f2-17ea-9034-65cfab8eca94"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"}],"labels":[{"identifier":"f990d972-d0c3-38fd-af9b-548807cf8308","instanceIdentifier":"6b353ea9-ad41-156a-82bc-d94e17ea62b5","position":{"x":-960.0,"y":1448.0},"label":"HEARTBEATS\n\nConsumes OAUTH2 token event to trigger heartbeat capture. \n\nThen sends individual heartbeats to the specified Kafka topic.","zIndex":0,"width":1680.0,"height":704.0,"style":{"background-color":"#fff7d7","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"6ec7b37e-dae3-3f1e-b728-a3a9c4b3b05b"}],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","instanceIdentifier":"1231a5c4-8d88-3ee7-a798-421a14ddb96c","name":"Get real-time TTC Next Vehicle Arrival data","comments":"","position":{"x":240.0,"y":120.0},"processGroups":[{"identifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","instanceIdentifier":"0137a282-2d2a-37c6-a880-0b4f5cc230d4","name":"Prep predictions ","comments":"","position":{"x":-1304.0,"y":-1152.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"59e14b78-ad3d-3de4-a4d0-78971330bb7d","instanceIdentifier":"31d76bba-65e8-37ce-8cd5-aeef339fe5d3","name":"Keep only stops with predictions","comments":"","position":{"x":1104.0,"y":576.0},"type":"org.apache.nifi.processors.standard.RouteOnContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Content Buffer Size":"1 MB","/message_id":"null","Match Requirement":"content must contain match","Character Set":"UTF-8"},"propertyDescriptors":{"Content Buffer Size":{"name":"Content Buffer Size","displayName":"Content Buffer Size","identifiesControllerService":false,"sensitive":false},"/message_id":{"name":"/message_id","displayName":"/message_id","identifiesControllerService":false,"sensitive":false},"Match Requirement":{"name":"Match Requirement","displayName":"Match Requirement","identifiesControllerService":false,"sensitive":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["/message_id"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"a8c3c534-d46e-3a6e-af00-6dd2c77c14ba","instanceIdentifier":"8474992d-da1e-33d5-9eac-87c96ce66903","name":"Build prediction records - Stage 2","comments":"","position":{"x":1808.0,"y":320.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"predictions\": {\n\t\t\t\"direction\": {\n\t\t\t\t\"prediction\": {\n\t\t\t\t\t\"*\": {\n\t\t\t\t\t\t\"@(3,routeTag)\": \"[#2].route_id\",\n\t\t\t\t\t\t\"@(3,routeTitle)\": \"[#2].route_title\",\n\t\t\t\t\t\t\"tripTag\": \"[#2].trip_tag\",\n\t\t\t\t\t\t\"@(3,stopTag)\": \"[#2].stop_tag\",\n\t\t\t\t\t\t\"@(3,stopTitle)\": \"[#2].stop_title\",\n\t\t\t\t\t\t\"isDeparture\": \"[#2].is_departure\",\n\t\t\t\t\t\t\"vehicle\": \"[#2].vehicle\",\n\t\t\t\t\t\t\"block\": \"[#2].block\",\n\t\t\t\t\t\t\"dirTag\": \"[#2].dir_tag\",\n\t\t\t\t\t\t\"branch\": \"[#2].branch\",\n\t\t\t\t\t\t\"minutes\": \"[#2].arriving_in_minutes\",\n\t\t\t\t\t\t\"seconds\": \"[#2].arriving_in_seconds\",\n\t\t\t\t\t\t\"affectedByLayover\": \"[#2].is_affected_by_layover\",\n\t\t\t\t\t\t\"epochTime\": [\n\t\t\t\t\t\t\t\"[#2].arriving_on_epoch_time\",\n\t\t\t\t\t\t\t\"[#2].published_epoch_time\"\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}, {\n\t\"operation\": \"modify-overwrite-beta\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"arriving_in_seconds\": \"=toLong\",\n\t\t\t\"arriving_in_minutes\": \"=toLong\",\n\t\t\t\"is_departure\": \"=toBoolean\",\n\t\t\t\"is_affected_by_layover\": \"=toBoolean\"\n\t\t}\n\t}\n}, {\n\t\"operation\": \"default\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"is_affected_by_layover\": false\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"2ad31911-aeef-3de4-8e4e-cec6a4c77d36","instanceIdentifier":"8af19991-37ea-3d37-801a-46404e5ea03b","name":"Add message_id to records","comments":"","position":{"x":1103.0,"y":317.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"/message_id":"concat(/route_id,\".\", /stop_tag, \".\", /trip_tag)","record-writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","replacement-value-strategy":"record-path-value"},"propertyDescriptors":{"/message_id":{"name":"/message_id","displayName":"/message_id","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"77cab936-0b3d-3a3d-aae8-f7cc7482226e","instanceIdentifier":"dbfb5539-3862-3476-8171-9287788bdcca","name":"Format timestamps","comments":"","position":{"x":1808.0,"y":832.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"/published_epoch_time":"${now():toNumber()}","record-writer":"e726333a-1f34-3292-8640-c808a6383601","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","replacement-value-strategy":"literal-value"},"propertyDescriptors":{"/published_epoch_time":{"name":"/published_epoch_time","displayName":"/published_epoch_time","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"ae622e8a-b73e-393a-ba59-bb3af4afcb72","instanceIdentifier":"0b6862d0-0187-1000-ffff-ffffd2f33425","name":"Set schema name","comments":"","position":{"x":1808.0,"y":576.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"#{schema_ttc_next_vehicle_arrival}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"0884941c-e55c-3e39-b131-4fb53fb8ccb3","instanceIdentifier":"2c7e26cb-cfef-3128-bcc1-42e395a80b7e","name":"SplitJson","comments":"","position":{"x":1808.0,"y":64.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.list"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"50652aa2-665f-3a41-877a-3a99c93b37fa","instanceIdentifier":"5cf9f3ae-664c-3b7a-aa0d-bf242b91610e","name":"Build prediction records - Stage 1","comments":"","position":{"x":1104.0,"y":64.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"predictions\": {\n\t\t\t\"*\": \"list[].predictions\"\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"}],"inputPorts":[{"identifier":"8b70671d-d77d-39fe-8fd9-e9133eefe831","instanceIdentifier":"dba4d2ff-d708-350c-b2af-fb7a1f84e8c7","name":"Predictions","position":{"x":568.0,"y":104.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"}],"outputPorts":[{"identifier":"2c951da9-732e-33bd-84c3-00d38b994978","instanceIdentifier":"31def353-9dd7-3b02-a0a7-8fdd891f0278","name":"Data records","position":{"x":2416.0,"y":872.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"}],"connections":[{"identifier":"45a41b13-f577-3cf2-bb72-460964fa3c58","instanceIdentifier":"4732d222-e3f2-3677-a495-cf5b92361edd","name":"","source":{"id":"77cab936-0b3d-3a3d-aae8-f7cc7482226e","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Format timestamps","comments":"","instanceIdentifier":"dbfb5539-3862-3476-8171-9287788bdcca"},"destination":{"id":"2c951da9-732e-33bd-84c3-00d38b994978","type":"OUTPUT_PORT","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Data records","instanceIdentifier":"31def353-9dd7-3b02-a0a7-8fdd891f0278"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"a02187c8-82bd-3667-948c-60541dbd0e77","instanceIdentifier":"9cc3f35e-1069-3fbc-9d3b-c22f9b7e4167","name":"","source":{"id":"8b70671d-d77d-39fe-8fd9-e9133eefe831","type":"INPUT_PORT","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Predictions","instanceIdentifier":"dba4d2ff-d708-350c-b2af-fb7a1f84e8c7"},"destination":{"id":"50652aa2-665f-3a41-877a-3a99c93b37fa","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Build prediction records - Stage 1","comments":"","instanceIdentifier":"5cf9f3ae-664c-3b7a-aa0d-bf242b91610e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"f0ecb822-58f9-345a-b867-8bedd0db1bff","instanceIdentifier":"c3f053a4-e31c-35b6-82bf-b071c11917e7","name":"","source":{"id":"2ad31911-aeef-3de4-8e4e-cec6a4c77d36","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Add message_id to records","comments":"","instanceIdentifier":"8af19991-37ea-3d37-801a-46404e5ea03b"},"destination":{"id":"59e14b78-ad3d-3de4-a4d0-78971330bb7d","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Keep only stops with predictions","comments":"","instanceIdentifier":"31d76bba-65e8-37ce-8cd5-aeef339fe5d3"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"674a9453-7273-3d88-beef-488aadad8308","instanceIdentifier":"0b6bee19-0187-1000-0000-00005e18f89b","name":"","source":{"id":"ae622e8a-b73e-393a-ba59-bb3af4afcb72","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Set schema name","comments":"","instanceIdentifier":"0b6862d0-0187-1000-ffff-ffffd2f33425"},"destination":{"id":"77cab936-0b3d-3a3d-aae8-f7cc7482226e","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Format timestamps","comments":"","instanceIdentifier":"dbfb5539-3862-3476-8171-9287788bdcca"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"92d58887-b216-34d4-acae-21858aa331a1","instanceIdentifier":"6c14cda4-38ff-34de-ac10-1c252a884cc8","name":"","source":{"id":"50652aa2-665f-3a41-877a-3a99c93b37fa","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Build prediction records - Stage 1","comments":"","instanceIdentifier":"5cf9f3ae-664c-3b7a-aa0d-bf242b91610e"},"destination":{"id":"0884941c-e55c-3e39-b131-4fb53fb8ccb3","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"SplitJson","comments":"","instanceIdentifier":"2c7e26cb-cfef-3128-bcc1-42e395a80b7e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"486c79b9-ed37-3df1-b861-5746fa90945b","instanceIdentifier":"f55a97c7-0c64-3d37-bbe8-1e28bb3eb7d1","name":"","source":{"id":"a8c3c534-d46e-3a6e-af00-6dd2c77c14ba","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Build prediction records - Stage 2","comments":"","instanceIdentifier":"8474992d-da1e-33d5-9eac-87c96ce66903"},"destination":{"id":"2ad31911-aeef-3de4-8e4e-cec6a4c77d36","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Add message_id to records","comments":"","instanceIdentifier":"8af19991-37ea-3d37-801a-46404e5ea03b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"fb01aeff-0032-3268-9b4f-01969f72797f","instanceIdentifier":"c8d69781-ce67-35ce-822e-4375e697123e","name":"","source":{"id":"59e14b78-ad3d-3de4-a4d0-78971330bb7d","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Keep only stops with predictions","comments":"","instanceIdentifier":"31d76bba-65e8-37ce-8cd5-aeef339fe5d3"},"destination":{"id":"ae622e8a-b73e-393a-ba59-bb3af4afcb72","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Set schema name","comments":"","instanceIdentifier":"0b6862d0-0187-1000-ffff-ffffd2f33425"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"},{"identifier":"31523616-826d-3e2a-9461-80697e1facb8","instanceIdentifier":"6bb66616-5d82-3f64-a954-e03986b76d8e","name":"","source":{"id":"0884941c-e55c-3e39-b131-4fb53fb8ccb3","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"SplitJson","comments":"","instanceIdentifier":"2c7e26cb-cfef-3128-bcc1-42e395a80b7e"},"destination":{"id":"a8c3c534-d46e-3a6e-af00-6dd2c77c14ba","type":"PROCESSOR","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Build prediction records - Stage 2","comments":"","instanceIdentifier":"8474992d-da1e-33d5-9eac-87c96ce66903"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90","instanceIdentifier":"cbd662f8-841a-3667-ace3-dd04d15a6de8","name":"Read routes from params","comments":"","position":{"x":-1304.0,"y":-1504.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"63831ede-02e0-3818-9111-3ae42e3962b5","instanceIdentifier":"bfd37ec9-38df-377d-bd00-3aae942b9b70","name":"Set route_id to attribute","comments":"","position":{"x":1104.0,"y":576.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","route_id":"$.route_id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"warn"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"route_id":{"name":"route_id","displayName":"route_id","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"},{"identifier":"24764701-f631-39d4-81cd-5ae6a15fc76b","instanceIdentifier":"1b016392-671e-362c-a54a-6bd737de5e2d","name":"Read routes parameter","comments":"","position":{"x":1104.0,"y":56.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"route_id\n#{prediction_routes}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 0/2 09-05 * * ?","schedulingStrategy":"CRON_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"},{"identifier":"6a7e0e9c-e9fb-3dc8-b78e-71d4909aea4a","instanceIdentifier":"0e1b96c9-ff7b-30c7-84e5-9d627593313a","name":"Split routes","comments":"","position":{"x":1103.0001,"y":316.99997},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","Record Reader":"fd8926b7-cb30-346d-82b1-4ff079d3cfd1","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"}],"inputPorts":[],"outputPorts":[{"identifier":"664702c1-de20-3e3a-b409-5d607b5ab25d","instanceIdentifier":"aa922561-80ae-3819-8ec4-41aacd97b96a","name":"Route IDs","position":{"x":1160.0,"y":840.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"}],"connections":[{"identifier":"1afd5909-204d-349d-bcd5-10fcc8d0df90","instanceIdentifier":"51a76222-3e3b-3751-a2c9-c1621d60a59f","name":"","source":{"id":"6a7e0e9c-e9fb-3dc8-b78e-71d4909aea4a","type":"PROCESSOR","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Split routes","comments":"","instanceIdentifier":"0e1b96c9-ff7b-30c7-84e5-9d627593313a"},"destination":{"id":"63831ede-02e0-3818-9111-3ae42e3962b5","type":"PROCESSOR","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Set route_id to attribute","comments":"","instanceIdentifier":"bfd37ec9-38df-377d-bd00-3aae942b9b70"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"},{"identifier":"11665188-6473-3ce9-96e8-d1ffedb3b3b0","instanceIdentifier":"1c5c71fe-3968-3a41-a625-dca17b00bc88","name":"","source":{"id":"63831ede-02e0-3818-9111-3ae42e3962b5","type":"PROCESSOR","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Set route_id to attribute","comments":"","instanceIdentifier":"bfd37ec9-38df-377d-bd00-3aae942b9b70"},"destination":{"id":"664702c1-de20-3e3a-b409-5d607b5ab25d","type":"OUTPUT_PORT","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Route IDs","instanceIdentifier":"aa922561-80ae-3819-8ec4-41aacd97b96a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"},{"identifier":"abbfb5e2-9753-3882-b403-dfded7aedfd1","instanceIdentifier":"0e79a9e9-bb3d-32be-a784-4d34fb322173","name":"","source":{"id":"24764701-f631-39d4-81cd-5ae6a15fc76b","type":"PROCESSOR","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Read routes parameter","comments":"","instanceIdentifier":"1b016392-671e-362c-a54a-6bd737de5e2d"},"destination":{"id":"6a7e0e9c-e9fb-3dc8-b78e-71d4909aea4a","type":"PROCESSOR","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Split routes","comments":"","instanceIdentifier":"0e1b96c9-ff7b-30c7-84e5-9d627593313a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"b45f45b2-fd23-33e9-b544-34b500d8eb90"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa","instanceIdentifier":"b028ff6c-b250-3cbb-9ccc-3127aaa8279a","name":"GET arrival predictions","comments":"","position":{"x":-536.0,"y":-1152.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"932c7f2b-6b21-3fe6-aa01-6dd39175b19b","instanceIdentifier":"64712878-92ef-3ea8-b174-edc8d72c494e","name":"Build URL string from stops","comments":"","position":{"x":1136.0,"y":200.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"tag\": \"stops[]\"\n\t\t}\n\t}\n}, {\n\t\"operation\": \"modify-overwrite-beta\",\n\t\"spec\": {\n\t\t\"urlArgs\": \"=join('&stops=',@(1,stops))\"\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"b91b8399-3f84-3952-8a79-a0da74bb92a2","instanceIdentifier":"3e731aa6-78d7-386b-8604-30ae9204bbd8","name":"Format each stop as query parameter","comments":"","position":{"x":432.0,"y":-56.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"record-writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","replacement-value-strategy":"record-path-value","/tag":"concat(${route_id},\"|\",/tag)"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false},"/tag":{"name":"/tag","displayName":"/tag","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"3ba9a63b-abb2-3cc7-b53f-383ea7fca374","instanceIdentifier":"7206b29c-b748-354e-9823-f7daa6995c2a","name":"GET predictionsFromMultiStops","comments":"","position":{"x":1136.0,"y":456.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"${url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"9585caf6-531b-3ea7-aa5a-bb633ff38c72","instanceIdentifier":"5b57551f-4e3e-311d-9948-bddfb6581759","name":"Finalize building entire URL","comments":"","position":{"x":432.0,"y":456.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"url":"#{ttc_api_url}?command=predictionsForMultiStops&a=ttc&stops=${url}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"url":{"name":"url","displayName":"url","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"50fd78f8-d8bc-352a-9dcb-2cd5e96c0780","instanceIdentifier":"75828cce-91ff-3dbe-9186-940c327bd621","name":"Merge records to avoid 150-stop limit","comments":"","position":{"x":1136.0,"y":-56.0},"type":"org.apache.nifi.processors.standard.MergeRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"max-bin-age":"30 sec","correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"5","max-bin-size":null,"record-writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","merge-strategy":"Bin-Packing Algorithm","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","max-records":"100","min-bin-size":"0 B","max.bin.count":"50"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"541c13d0-97d3-3e4d-b276-d7585da01e6d","instanceIdentifier":"89fa1b43-3876-3c2d-9043-dd3503f80125","name":"Add URL to flowfile attributes","comments":"","position":{"x":432.0,"y":200.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","url":"$.urlArgs","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"url":{"name":"url","displayName":"url","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"}],"inputPorts":[{"identifier":"b4bfd5c2-fcad-339b-8720-ea8b6e40541b","instanceIdentifier":"876b68ef-3949-3f98-a3ad-32dcffd7a6a9","name":"Stops","comments":"","position":{"x":488.0,"y":-152.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"}],"outputPorts":[{"identifier":"4885a534-1043-3abe-bcea-ef9db3e32e99","instanceIdentifier":"3980ccae-d94d-338e-96db-ec8c88d62ee9","name":"Predictions","position":{"x":1200.0,"y":680.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"}],"connections":[{"identifier":"cb0fc4db-2286-341c-a307-f6e47adae0af","instanceIdentifier":"0ffd5b4b-5cb2-3036-bfb8-01cd9f4f1d34","name":"","source":{"id":"50fd78f8-d8bc-352a-9dcb-2cd5e96c0780","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Merge records to avoid 150-stop limit","comments":"","instanceIdentifier":"75828cce-91ff-3dbe-9186-940c327bd621"},"destination":{"id":"932c7f2b-6b21-3fe6-aa01-6dd39175b19b","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Build URL string from stops","comments":"","instanceIdentifier":"64712878-92ef-3ea8-b174-edc8d72c494e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"4b6ecdd1-2442-3c88-a7b8-e39db0f227cf","instanceIdentifier":"995c2f2e-b958-3174-b1f4-699773829253","name":"","source":{"id":"b91b8399-3f84-3952-8a79-a0da74bb92a2","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Format each stop as query parameter","comments":"","instanceIdentifier":"3e731aa6-78d7-386b-8604-30ae9204bbd8"},"destination":{"id":"50fd78f8-d8bc-352a-9dcb-2cd5e96c0780","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Merge records to avoid 150-stop limit","comments":"","instanceIdentifier":"75828cce-91ff-3dbe-9186-940c327bd621"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"3925526e-f7c1-3663-95b2-133b89d9c578","instanceIdentifier":"ee24b363-8aec-3309-b72b-eb77afdfd3de","name":"","source":{"id":"9585caf6-531b-3ea7-aa5a-bb633ff38c72","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Finalize building entire URL","comments":"","instanceIdentifier":"5b57551f-4e3e-311d-9948-bddfb6581759"},"destination":{"id":"3ba9a63b-abb2-3cc7-b53f-383ea7fca374","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"GET predictionsFromMultiStops","comments":"","instanceIdentifier":"7206b29c-b748-354e-9823-f7daa6995c2a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"0ce8c9a5-5470-343a-af8f-e1820c7f9501","instanceIdentifier":"a8f5a1ab-68e0-336e-92b4-f577c91aee79","name":"","source":{"id":"932c7f2b-6b21-3fe6-aa01-6dd39175b19b","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Build URL string from stops","comments":"","instanceIdentifier":"64712878-92ef-3ea8-b174-edc8d72c494e"},"destination":{"id":"541c13d0-97d3-3e4d-b276-d7585da01e6d","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Add URL to flowfile attributes","comments":"","instanceIdentifier":"89fa1b43-3876-3c2d-9043-dd3503f80125"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"186ab1d9-e793-30e2-a42a-03182df77736","instanceIdentifier":"c92415a4-f137-3062-857b-c4210512d4d0","name":"","source":{"id":"541c13d0-97d3-3e4d-b276-d7585da01e6d","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Add URL to flowfile attributes","comments":"","instanceIdentifier":"89fa1b43-3876-3c2d-9043-dd3503f80125"},"destination":{"id":"9585caf6-531b-3ea7-aa5a-bb633ff38c72","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Finalize building entire URL","comments":"","instanceIdentifier":"5b57551f-4e3e-311d-9948-bddfb6581759"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"c5470407-57b2-3c3d-b7d9-cae5a4456c03","instanceIdentifier":"79d35151-319e-3ec7-b632-b1ba76c37197","name":"","source":{"id":"b4bfd5c2-fcad-339b-8720-ea8b6e40541b","type":"INPUT_PORT","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Stops","comments":"","instanceIdentifier":"876b68ef-3949-3f98-a3ad-32dcffd7a6a9"},"destination":{"id":"b91b8399-3f84-3952-8a79-a0da74bb92a2","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Format each stop as query parameter","comments":"","instanceIdentifier":"3e731aa6-78d7-386b-8604-30ae9204bbd8"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"},{"identifier":"667a9cec-b9a2-3dd6-94d4-bc8b71f2b0b9","instanceIdentifier":"00b06e7d-fde1-3af0-b717-f7e7aaf050cf","name":"","source":{"id":"3ba9a63b-abb2-3cc7-b53f-383ea7fca374","type":"PROCESSOR","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"GET predictionsFromMultiStops","comments":"","instanceIdentifier":"7206b29c-b748-354e-9823-f7daa6995c2a"},"destination":{"id":"4885a534-1043-3abe-bcea-ef9db3e32e99","type":"OUTPUT_PORT","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Predictions","instanceIdentifier":"3980ccae-d94d-338e-96db-ec8c88d62ee9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"c5002eee-aeff-3f42-9900-9bc898d57ffa"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592","instanceIdentifier":"342e3950-975a-371c-850d-757588f5b823","name":"GET route stops","comments":"","position":{"x":-536.0,"y":-1504.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"bbc37310-334e-38d6-998f-5745a0293697","instanceIdentifier":"e623244a-60c3-3685-8977-a1a87dc1dc05","name":"Flatten stops","comments":"","position":{"x":1104.0,"y":192.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"route\": {\n\t\t\t\"direction\": {\n\t\t\t\t\"*\": {\n\t\t\t\t\t\"stop\": {\n\t\t\t\t\t\t\"*\": \"tags[]\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"stop\": {\n\t\t\t\t\"*\": \"stops[]\"\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"},{"identifier":"2e1d612f-6604-324b-ad2a-00a20f37888d","instanceIdentifier":"dffb35eb-4da8-3d23-b215-13aec115273c","name":"Split records","comments":"","position":{"x":1104.0,"y":448.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.stops"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"},{"identifier":"5329107f-057d-35d1-badc-eee5700a3178","instanceIdentifier":"961a17b0-23d6-3e67-8a15-e119c21621e9","name":"GET routeConfig (route stops)","comments":"","position":{"x":1104.0,"y":-64.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{ttc_api_url}?command=routeConfig&a=ttc&r=${route_id}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"}],"inputPorts":[{"identifier":"f1a7a8af-ea92-3526-8454-6ecdf15a5c3c","instanceIdentifier":"4f4461e6-c0f6-359f-9598-65d747056f5f","name":"Routes","comments":"","position":{"x":624.0,"y":-24.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"}],"outputPorts":[{"identifier":"4d18b0db-c25a-355c-b9d1-6fc5128212b4","instanceIdentifier":"0ec14921-228c-360a-b466-7a8d165499d4","name":"Stops","comments":"","position":{"x":1728.0,"y":504.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"}],"connections":[{"identifier":"fe9617a0-0b0a-3762-b739-65ab57855802","instanceIdentifier":"99c388f9-8d22-33aa-8742-6699605d7306","name":"","source":{"id":"f1a7a8af-ea92-3526-8454-6ecdf15a5c3c","type":"INPUT_PORT","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Routes","comments":"","instanceIdentifier":"4f4461e6-c0f6-359f-9598-65d747056f5f"},"destination":{"id":"5329107f-057d-35d1-badc-eee5700a3178","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"GET routeConfig (route stops)","comments":"","instanceIdentifier":"961a17b0-23d6-3e67-8a15-e119c21621e9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"},{"identifier":"718c5cc2-0ea0-3715-bd6d-39dd5e2b61c3","instanceIdentifier":"07749ea9-e907-3272-a560-801841362d4e","name":"","source":{"id":"5329107f-057d-35d1-badc-eee5700a3178","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"GET routeConfig (route stops)","comments":"","instanceIdentifier":"961a17b0-23d6-3e67-8a15-e119c21621e9"},"destination":{"id":"bbc37310-334e-38d6-998f-5745a0293697","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Flatten stops","comments":"","instanceIdentifier":"e623244a-60c3-3685-8977-a1a87dc1dc05"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"},{"identifier":"44a60a77-4c58-3e1d-8937-44ab72bd40f0","instanceIdentifier":"5687b917-ee65-32c4-9fd7-1113c8095b62","name":"","source":{"id":"bbc37310-334e-38d6-998f-5745a0293697","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Flatten stops","comments":"","instanceIdentifier":"e623244a-60c3-3685-8977-a1a87dc1dc05"},"destination":{"id":"2e1d612f-6604-324b-ad2a-00a20f37888d","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Split records","comments":"","instanceIdentifier":"dffb35eb-4da8-3d23-b215-13aec115273c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"},{"identifier":"2891b8bb-7ce4-3ed6-8b01-e1dad27c0744","instanceIdentifier":"b363fbde-2300-38a4-8fb0-f2cdc85d2076","name":"","source":{"id":"2e1d612f-6604-324b-ad2a-00a20f37888d","type":"PROCESSOR","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Split records","comments":"","instanceIdentifier":"dffb35eb-4da8-3d23-b215-13aec115273c"},"destination":{"id":"4d18b0db-c25a-355c-b9d1-6fc5128212b4","type":"OUTPUT_PORT","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Stops","comments":"","instanceIdentifier":"0ec14921-228c-360a-b466-7a8d165499d4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5456aefd-9780-3c4d-8c85-2e14e2bec592"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"}],"remoteProcessGroups":[],"processors":[{"identifier":"8e5a60e1-bc8b-3ac6-92a5-d310990c2c7b","instanceIdentifier":"b67a9e9c-f98b-38cd-8ccb-839247825f70","name":"Insert stop time predictions","comments":"","position":{"x":-1640.0,"y":-848.0},"type":"org.apache.nifi.processors.kudu.PutKudu","bundle":{"group":"org.apache.nifi","artifact":"nifi-kudu-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Ignore NULL":"false","Table Name":"#{db}.raw_next_vehicle_arrival","kerberos-password":"#{workload_password}","Handle Schema Drift":"false","kudu-sasl-protocol-name":"kudu","kerberos-principal":"#{workload_username}","Lowercase Field Names":"true","Insert Operation":"UPSERT","kudu-operations-timeout-ms":"30000ms","Skip head line":"false","FlowFiles per Batch":"1","kerberos-credentials-service":null,"Kudu Masters":"#{kudu_master_hosts}","Flush Mode":"AUTO_FLUSH_BACKGROUND","Failure Strategy":"route-to-failure","Batch Size":"100","Data RecordPath":null,"kerberos-user-service":null,"record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","worker-count":"16","kudu-keep-alive-period-timeout-ms":"15000ms","Operation RecordPath":null},"propertyDescriptors":{"Ignore NULL":{"name":"Ignore NULL","displayName":"Ignore NULL","identifiesControllerService":false,"sensitive":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Handle Schema Drift":{"name":"Handle Schema Drift","displayName":"Handle Schema Drift","identifiesControllerService":false,"sensitive":false},"kudu-sasl-protocol-name":{"name":"kudu-sasl-protocol-name","displayName":"Kudu SASL Protocol Name","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Lowercase Field Names":{"name":"Lowercase Field Names","displayName":"Lowercase Field Names","identifiesControllerService":false,"sensitive":false},"Insert Operation":{"name":"Insert Operation","displayName":"Kudu Operation Type","identifiesControllerService":false,"sensitive":false},"kudu-operations-timeout-ms":{"name":"kudu-operations-timeout-ms","displayName":"Kudu Operation Timeout","identifiesControllerService":false,"sensitive":false},"Skip head line":{"name":"Skip head line","displayName":"Skip head line","identifiesControllerService":false,"sensitive":false},"FlowFiles per Batch":{"name":"FlowFiles per Batch","displayName":"FlowFiles per Batch","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kudu Masters":{"name":"Kudu Masters","displayName":"Kudu Masters","identifiesControllerService":false,"sensitive":false},"Flush Mode":{"name":"Flush Mode","displayName":"Flush Mode","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Max Records per Batch","identifiesControllerService":false,"sensitive":false},"Data RecordPath":{"name":"Data RecordPath","displayName":"Data RecordPath","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"worker-count":{"name":"worker-count","displayName":"Kudu Client Worker Count","identifiesControllerService":false,"sensitive":false},"kudu-keep-alive-period-timeout-ms":{"name":"kudu-keep-alive-period-timeout-ms","displayName":"Kudu Keep Alive Period Timeout","identifiesControllerService":false,"sensitive":false},"Operation RecordPath":{"name":"Operation RecordPath","displayName":"Operation RecordPath","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"f57c8fc3-a28d-3f7c-b300-81f8fb617fc2","instanceIdentifier":"1da9b530-26c4-3f7e-a59a-d4362b10cf40","name":"Prep stops","comments":"","position":{"x":200.0,"y":-1480.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"stopId\": \"id\",\n\t\t\"lon\": \"longitude\",\n\t\t\"lat\": \"latitude\",\n\t\t\"tag\": \"tag\",\n\t\t\"title\": \"name\"\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"761cd0b8-1af9-36ff-b0b2-679b41cb1e4e","instanceIdentifier":"ab268cd1-2b9e-3263-bb10-029c0cc95732","name":"Publish2 Kafka","comments":"","position":{"x":-936.0,"y":-848.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka2RecordCDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"compression.type":"none","attribute-name-regex":null,"record-writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","bootstrap.servers":"#{kafka_brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"partition":null,"record-key-writer":null,"sasl.mechanism":"PLAIN","max.block.ms":"5 sec","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringProducerInterceptor","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","message-header-encoding":"UTF-8","kerberos-user-service":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{workload_username}","use-transactions":"false","acks":"all","Record Metadata Strategy":"Use Configured Values","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","max.request.size":"1 MB","sasl.token.auth":"false","message-key-field":null,"Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"#{kafka_topic_next_vehicle_arrival}","sasl.password":"#{workload_password}","publish-strategy":"USE_VALUE"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"record-key-writer":{"name":"record-key-writer","displayName":"Record Key Writer","identifiesControllerService":true,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"Record Metadata Strategy":{"name":"Record Metadata Strategy","displayName":"Record Metadata Strategy","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"message-key-field":{"name":"message-key-field","displayName":"Message Key Field","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"publish-strategy":{"name":"publish-strategy","displayName":"Publish Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"7d84b384-5c8b-352f-897b-e8ef9d907b96","instanceIdentifier":"25aa0721-f8e8-3754-9939-553cb19d975b","name":"Insert stops","comments":"","position":{"x":200.0,"y":-1224.0},"type":"org.apache.nifi.processors.kudu.PutKudu","bundle":{"group":"org.apache.nifi","artifact":"nifi-kudu-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Ignore NULL":"false","Table Name":"#{db}.raw_next_vehicle_arrival_stops","kerberos-password":"#{workload_password}","Handle Schema Drift":"false","kudu-sasl-protocol-name":"kudu","kerberos-principal":"#{workload_username}","Lowercase Field Names":"true","Insert Operation":"UPSERT","kudu-operations-timeout-ms":"30000ms","Skip head line":"false","FlowFiles per Batch":"1","kerberos-credentials-service":null,"Kudu Masters":"#{kudu_master_hosts}","Flush Mode":"AUTO_FLUSH_BACKGROUND","Failure Strategy":"route-to-failure","Batch Size":"100","Data RecordPath":null,"kerberos-user-service":null,"record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","worker-count":"16","kudu-keep-alive-period-timeout-ms":"15000ms","Operation RecordPath":null},"propertyDescriptors":{"Ignore NULL":{"name":"Ignore NULL","displayName":"Ignore NULL","identifiesControllerService":false,"sensitive":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Handle Schema Drift":{"name":"Handle Schema Drift","displayName":"Handle Schema Drift","identifiesControllerService":false,"sensitive":false},"kudu-sasl-protocol-name":{"name":"kudu-sasl-protocol-name","displayName":"Kudu SASL Protocol Name","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Lowercase Field Names":{"name":"Lowercase Field Names","displayName":"Lowercase Field Names","identifiesControllerService":false,"sensitive":false},"Insert Operation":{"name":"Insert Operation","displayName":"Kudu Operation Type","identifiesControllerService":false,"sensitive":false},"kudu-operations-timeout-ms":{"name":"kudu-operations-timeout-ms","displayName":"Kudu Operation Timeout","identifiesControllerService":false,"sensitive":false},"Skip head line":{"name":"Skip head line","displayName":"Skip head line","identifiesControllerService":false,"sensitive":false},"FlowFiles per Batch":{"name":"FlowFiles per Batch","displayName":"FlowFiles per Batch","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kudu Masters":{"name":"Kudu Masters","displayName":"Kudu Masters","identifiesControllerService":false,"sensitive":false},"Flush Mode":{"name":"Flush Mode","displayName":"Flush Mode","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Max Records per Batch","identifiesControllerService":false,"sensitive":false},"Data RecordPath":{"name":"Data RecordPath","displayName":"Data RecordPath","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"worker-count":{"name":"worker-count","displayName":"Kudu Client Worker Count","identifiesControllerService":false,"sensitive":false},"kudu-keep-alive-period-timeout-ms":{"name":"kudu-keep-alive-period-timeout-ms","displayName":"Kudu Keep Alive Period Timeout","identifiesControllerService":false,"sensitive":false},"Operation RecordPath":{"name":"Operation RecordPath","displayName":"Operation RecordPath","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"4c619e1d-cac9-3b32-8d59-c0ebb4790d8d","instanceIdentifier":"46f18bf3-0363-3589-991a-840f8c437685","name":"","source":{"id":"f57c8fc3-a28d-3f7c-b300-81f8fb617fc2","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Prep stops","comments":"","instanceIdentifier":"1da9b530-26c4-3f7e-a59a-d4362b10cf40"},"destination":{"id":"7d84b384-5c8b-352f-897b-e8ef9d907b96","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Insert stops","comments":"","instanceIdentifier":"25aa0721-f8e8-3754-9939-553cb19d975b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"63b821f9-f66b-3182-9aa5-06b58876795c","instanceIdentifier":"91e0fdc6-051f-34dd-9784-80bfbd377c5a","name":"","source":{"id":"2c951da9-732e-33bd-84c3-00d38b994978","type":"OUTPUT_PORT","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Data records","instanceIdentifier":"31def353-9dd7-3b02-a0a7-8fdd891f0278"},"destination":{"id":"8e5a60e1-bc8b-3ac6-92a5-d310990c2c7b","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Insert stop time predictions","comments":"","instanceIdentifier":"b67a9e9c-f98b-38cd-8ccb-839247825f70"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"314e3f08-e23d-3b26-91ec-7b5ab16f5f02","instanceIdentifier":"f466aef4-84d6-3a5b-a996-81309c5be3fe","name":"","source":{"id":"664702c1-de20-3e3a-b409-5d607b5ab25d","type":"OUTPUT_PORT","groupId":"b45f45b2-fd23-33e9-b544-34b500d8eb90","name":"Route IDs","instanceIdentifier":"aa922561-80ae-3819-8ec4-41aacd97b96a"},"destination":{"id":"f1a7a8af-ea92-3526-8454-6ecdf15a5c3c","type":"INPUT_PORT","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Routes","comments":"","instanceIdentifier":"4f4461e6-c0f6-359f-9598-65d747056f5f"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"d399f6e3-1a5f-3579-9ee9-12ebd32e040a","instanceIdentifier":"ea006b0f-47cd-3c86-a0df-0463affceb6a","name":"","source":{"id":"2c951da9-732e-33bd-84c3-00d38b994978","type":"OUTPUT_PORT","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Data records","instanceIdentifier":"31def353-9dd7-3b02-a0a7-8fdd891f0278"},"destination":{"id":"761cd0b8-1af9-36ff-b0b2-679b41cb1e4e","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Publish2 Kafka","comments":"","instanceIdentifier":"ab268cd1-2b9e-3263-bb10-029c0cc95732"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"361bcc6d-7979-33a4-baff-ada7e6534809","instanceIdentifier":"bffd1dec-d09e-3d22-b704-64799590d31c","name":"","source":{"id":"761cd0b8-1af9-36ff-b0b2-679b41cb1e4e","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Publish2 Kafka","comments":"","instanceIdentifier":"ab268cd1-2b9e-3263-bb10-029c0cc95732"},"destination":{"id":"761cd0b8-1af9-36ff-b0b2-679b41cb1e4e","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Publish2 Kafka","comments":"","instanceIdentifier":"ab268cd1-2b9e-3263-bb10-029c0cc95732"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-463.02527,"y":-815.098},{"x":-463.02527,"y":-765.098}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"b664e4bc-b0c5-3fe0-a98c-4afc82f169ff","instanceIdentifier":"c107a5d3-373b-3ca7-b245-b302680dbc64","name":"","source":{"id":"4d18b0db-c25a-355c-b9d1-6fc5128212b4","type":"OUTPUT_PORT","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Stops","comments":"","instanceIdentifier":"0ec14921-228c-360a-b466-7a8d165499d4"},"destination":{"id":"f57c8fc3-a28d-3f7c-b300-81f8fb617fc2","type":"PROCESSOR","groupId":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7","name":"Prep stops","comments":"","instanceIdentifier":"1da9b530-26c4-3f7e-a59a-d4362b10cf40"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"36fc8f5a-2468-3b75-b390-496f3ac18d11","instanceIdentifier":"c70f1ab0-70fb-3432-b329-97a123dfff0b","name":"","source":{"id":"4d18b0db-c25a-355c-b9d1-6fc5128212b4","type":"OUTPUT_PORT","groupId":"5456aefd-9780-3c4d-8c85-2e14e2bec592","name":"Stops","comments":"","instanceIdentifier":"0ec14921-228c-360a-b466-7a8d165499d4"},"destination":{"id":"b4bfd5c2-fcad-339b-8720-ea8b6e40541b","type":"INPUT_PORT","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Stops","comments":"","instanceIdentifier":"876b68ef-3949-3f98-a3ad-32dcffd7a6a9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"},{"identifier":"daa5c846-3134-374d-b464-b504b6d26488","instanceIdentifier":"4cc6dbb0-335d-3853-a6fc-79597aa3d437","name":"","source":{"id":"4885a534-1043-3abe-bcea-ef9db3e32e99","type":"OUTPUT_PORT","groupId":"c5002eee-aeff-3f42-9900-9bc898d57ffa","name":"Predictions","instanceIdentifier":"3980ccae-d94d-338e-96db-ec8c88d62ee9"},"destination":{"id":"8b70671d-d77d-39fe-8fd9-e9133eefe831","type":"INPUT_PORT","groupId":"2e9dbd7d-ec9f-33d6-8fa5-de201f363044","name":"Predictions","instanceIdentifier":"dba4d2ff-d708-350c-b2af-fb7a1f84e8c7"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"49e2d3de-c715-3744-b4c8-3cfef5ad5bd7"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"a2fc474c-0373-365e-96a7-8d644c3806e2","instanceIdentifier":"18caa0bc-9c6a-3bca-8d27-09737315b130","name":"Load open datasets","comments":"","position":{"x":648.0,"y":120.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"7d0633f8-abe1-33da-900d-fecc7921f979","instanceIdentifier":"a6b414cf-27a8-3350-b550-90a3dbcd5e5a","name":"Explode resources","comments":"","position":{"x":1056.0,"y":296.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"resources\": {\n\t\t\t\"*\": {\n\t\t\t\"@(2,id)\": \"[&1].package_id\",\n            \"@(2,name)\": \"[&1].package_name\",\n\t\t\t\"@(2,title)\": \"[&1].package_title\",\n\t\t\t\"@(2,refresh_rate)\": \"[&1].package_refresh_rate\",\n\t\t\t\"@(2,date_published)\": \"[&1].package_date_published\",\n\t\t\t\"@(2,last_refreshed)\": \"[&1].package_last_refreshed\",\n            \"id\": \"[&1].resource_id\",\n            \"name\": \"[&1].resource_name\",\n            \"datastore_active\": \"[&1].datastore_active\"\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"7c03abbb-eedb-3258-a8f5-7e18d6c9e223","instanceIdentifier":"0d630da6-8cea-36bf-be8c-643e82ab4e81","name":"Save file","comments":"","position":{"x":704.0,"y":1320.0},"type":"org.apache.nifi.processors.hadoop.PutCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","writing-strategy":"simpleWrite","Directory":"${table_directory}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"writing-strategy":{"name":"writing-strategy","displayName":"Writing Strategy","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"923cb8ee-305a-3db4-8692-7554f89f9f71","instanceIdentifier":"1cd7278a-5764-3d68-90f2-f8c00a354c38","name":"Keep only datastore-enabled resources","comments":"","position":{"x":1056.0,"y":552.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","datastore":"${datastore_active:equals(\"true\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"datastore":{"name":"datastore","displayName":"datastore","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"81b3c8b6-0760-332f-a533-71937c78cd5b","instanceIdentifier":"5246fa17-023a-39c7-95d7-55059f92cc63","name":"InvokeHTTP","comments":"","position":{"x":352.0,"y":40.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{ckan_site_url}/#{ckan_api_url}/package_search?rows=1000","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"7 day","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"a619459c-765a-353b-87ee-dad2c88650cb","instanceIdentifier":"0fb7829f-843e-3666-b253-b9923d9dc66e","name":"Set attributes","comments":"","position":{"x":352.0,"y":552.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","package_id":"$.package_id","package_refresh_rate":"$.package_refresh_rate","package_title":"$.package_title","Path Not Found Behavior":"ignore","package_last_refreshed":"$.package_last_refreshed","package_date_published":"$.package_date_published","datastore_active":"$.datastore_active","package_name":"$.package_name","resource_id":"$.resource_id","resource_name":"$.resource_name"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"package_id":{"name":"package_id","displayName":"package_id","identifiesControllerService":false,"sensitive":false},"package_refresh_rate":{"name":"package_refresh_rate","displayName":"package_refresh_rate","identifiesControllerService":false,"sensitive":false},"package_title":{"name":"package_title","displayName":"package_title","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"package_last_refreshed":{"name":"package_last_refreshed","displayName":"package_last_refreshed","identifiesControllerService":false,"sensitive":false},"package_date_published":{"name":"package_date_published","displayName":"package_date_published","identifiesControllerService":false,"sensitive":false},"datastore_active":{"name":"datastore_active","displayName":"datastore_active","identifiesControllerService":false,"sensitive":false},"package_name":{"name":"package_name","displayName":"package_name","identifiesControllerService":false,"sensitive":false},"resource_id":{"name":"resource_id","displayName":"resource_id","identifiesControllerService":false,"sensitive":false},"resource_name":{"name":"resource_name","displayName":"resource_name","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"5101076f-0de5-3b82-a7ae-aca2d895c3ca","instanceIdentifier":"3ea09e13-6f1c-37a2-940e-d212354dbc86","name":"Create 1 record per resource","comments":"","position":{"x":352.0,"y":296.0},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","Record Reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"b3170a6c-3740-3e22-a85f-239c16f6f9f7","instanceIdentifier":"93d4a27c-aae2-34f2-871f-5752154a84ea","name":"Split Datasets","comments":"","position":{"x":1056.0,"y":40.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Null Value Representation":"empty string","JsonPath Expression":"$.result.results"},"propertyDescriptors":{"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"b4941f9c-bd89-35ae-943b-b8707c4eb2a6","instanceIdentifier":"75c85cf6-a7ae-3b3f-a30b-f39376a71ef2","name":"ConvertRecord","comments":"","position":{"x":0.0,"y":1320.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"record-writer":"26f16180-2f5c-3a13-8833-b49ab15a020e","record-reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"2751a7e9-d6a5-3d62-bfe6-e62104233d5f","instanceIdentifier":"72e532e7-c2f3-3cfe-b825-61a09d80f30c","name":"Build API URL","comments":"","position":{"x":1056.0,"y":808.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"filename":"${filename}.csv","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","table_directory":"#{bucket}/#{external_table_path}/#{db_filler}.db/open_data/${package_name}/${resource_name:toLower():replaceAll(\"-\", \"_\"):replaceAll(\" \", \"_\")}","Stateful Variables Initial Value":null,"url":"#{ckan_site_url}/#{ckan_api_url}/datastore_search?id=${resource_id}&limit=1000"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"table_directory":{"name":"table_directory","displayName":"table_directory","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"url":{"name":"url","displayName":"url","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"1ffbbbfe-8e5d-3472-9cfc-43f031c5ca76","instanceIdentifier":"985fe573-b32f-34ca-8a5b-23ac440fe72a","name":"Get data","comments":"","position":{"x":352.0,"y":808.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"${url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"3 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"eab64d11-7e33-3cff-af43-cbbe777c6c51","instanceIdentifier":"45b24b24-70dd-3b27-b4e5-1d892ad05f30","name":"Get data records","comments":"","position":{"x":0.0,"y":1064.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n      \"result\":{\n\t\t\"records\": {\n\t\t\t\"*\": \"[]\"\n\t\t}}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"f1bfa371-020a-3f24-bce2-ea58cfbee7be","instanceIdentifier":"fe62d3b3-fc22-3f10-b41a-35c3a6e5b9b5","name":"","source":{"id":"5101076f-0de5-3b82-a7ae-aca2d895c3ca","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Create 1 record per resource","comments":"","instanceIdentifier":"3ea09e13-6f1c-37a2-940e-d212354dbc86"},"destination":{"id":"a619459c-765a-353b-87ee-dad2c88650cb","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Set attributes","comments":"","instanceIdentifier":"0fb7829f-843e-3666-b253-b9923d9dc66e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"2ee50bef-cf52-3880-be71-e7947d079a58","instanceIdentifier":"290a75f0-f9a4-3be3-a864-e63463771959","name":"","source":{"id":"1ffbbbfe-8e5d-3472-9cfc-43f031c5ca76","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Get data","comments":"","instanceIdentifier":"985fe573-b32f-34ca-8a5b-23ac440fe72a"},"destination":{"id":"eab64d11-7e33-3cff-af43-cbbe777c6c51","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Get data records","comments":"","instanceIdentifier":"45b24b24-70dd-3b27-b4e5-1d892ad05f30"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"9d323a57-d7a1-3f3a-9109-d7914c6ea851","instanceIdentifier":"a0da0baf-a861-3b53-90a1-e6d02705106f","name":"","source":{"id":"81b3c8b6-0760-332f-a533-71937c78cd5b","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"InvokeHTTP","comments":"","instanceIdentifier":"5246fa17-023a-39c7-95d7-55059f92cc63"},"destination":{"id":"b3170a6c-3740-3e22-a85f-239c16f6f9f7","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Split Datasets","comments":"","instanceIdentifier":"93d4a27c-aae2-34f2-871f-5752154a84ea"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"b81f7e8d-9626-3086-84e2-0a2f1ea3fa59","instanceIdentifier":"1717be56-fa84-3cc5-8c05-d177b922e634","name":"","source":{"id":"923cb8ee-305a-3db4-8692-7554f89f9f71","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Keep only datastore-enabled resources","comments":"","instanceIdentifier":"1cd7278a-5764-3d68-90f2-f8c00a354c38"},"destination":{"id":"2751a7e9-d6a5-3d62-bfe6-e62104233d5f","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Build API URL","comments":"","instanceIdentifier":"72e532e7-c2f3-3cfe-b825-61a09d80f30c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["datastore"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"e393bfaa-4ec1-3dde-b7ad-25b187c7ea76","instanceIdentifier":"32a5d9e2-bcab-3ef4-b0fe-d9c1fe6a5bbc","name":"","source":{"id":"a619459c-765a-353b-87ee-dad2c88650cb","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Set attributes","comments":"","instanceIdentifier":"0fb7829f-843e-3666-b253-b9923d9dc66e"},"destination":{"id":"923cb8ee-305a-3db4-8692-7554f89f9f71","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Keep only datastore-enabled resources","comments":"","instanceIdentifier":"1cd7278a-5764-3d68-90f2-f8c00a354c38"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"b1e254a3-d395-3d5b-b7de-9ecf4ed3f961","instanceIdentifier":"ab3eecb9-8abb-3020-950a-233e93e70b0d","name":"","source":{"id":"b4941f9c-bd89-35ae-943b-b8707c4eb2a6","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"ConvertRecord","comments":"","instanceIdentifier":"75c85cf6-a7ae-3b3f-a30b-f39376a71ef2"},"destination":{"id":"7c03abbb-eedb-3258-a8f5-7e18d6c9e223","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Save file","comments":"","instanceIdentifier":"0d630da6-8cea-36bf-be8c-643e82ab4e81"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"fb51d8d6-bac1-3dea-abc0-19bebe4c73c9","instanceIdentifier":"bc06151c-721e-3a4b-a892-8299d2f23454","name":"","source":{"id":"b3170a6c-3740-3e22-a85f-239c16f6f9f7","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Split Datasets","comments":"","instanceIdentifier":"93d4a27c-aae2-34f2-871f-5752154a84ea"},"destination":{"id":"7d0633f8-abe1-33da-900d-fecc7921f979","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Explode resources","comments":"","instanceIdentifier":"a6b414cf-27a8-3350-b550-90a3dbcd5e5a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"a9d7ac9e-ee49-3478-acd0-fa3d77562c34","instanceIdentifier":"c3f90511-8cfe-3906-a189-2ab0db4febce","name":"","source":{"id":"2751a7e9-d6a5-3d62-bfe6-e62104233d5f","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Build API URL","comments":"","instanceIdentifier":"72e532e7-c2f3-3cfe-b825-61a09d80f30c"},"destination":{"id":"1ffbbbfe-8e5d-3472-9cfc-43f031c5ca76","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Get data","comments":"","instanceIdentifier":"985fe573-b32f-34ca-8a5b-23ac440fe72a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"75735bdd-c01e-3217-8b1d-64ed482601a7","instanceIdentifier":"89c3da14-9d20-3216-998d-eccba11a0b77","name":"","source":{"id":"eab64d11-7e33-3cff-af43-cbbe777c6c51","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Get data records","comments":"","instanceIdentifier":"45b24b24-70dd-3b27-b4e5-1d892ad05f30"},"destination":{"id":"b4941f9c-bd89-35ae-943b-b8707c4eb2a6","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"ConvertRecord","comments":"","instanceIdentifier":"75c85cf6-a7ae-3b3f-a30b-f39376a71ef2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"44b5ce6d-244f-37e3-a6de-ff23b642f77f","instanceIdentifier":"8832aa9c-52ec-30c8-8204-333a1b5a9ddd","name":"","source":{"id":"7c03abbb-eedb-3258-a8f5-7e18d6c9e223","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Save file","comments":"","instanceIdentifier":"0d630da6-8cea-36bf-be8c-643e82ab4e81"},"destination":{"id":"7c03abbb-eedb-3258-a8f5-7e18d6c9e223","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Save file","comments":"","instanceIdentifier":"0d630da6-8cea-36bf-be8c-643e82ab4e81"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1176.8308,"y":1357.8735},{"x":1176.8308,"y":1407.8735}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"},{"identifier":"de9d5f82-6709-3316-ac86-8538d9872484","instanceIdentifier":"5cbfb437-13dd-374e-bf4b-d2c296867966","name":"","source":{"id":"7d0633f8-abe1-33da-900d-fecc7921f979","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Explode resources","comments":"","instanceIdentifier":"a6b414cf-27a8-3350-b550-90a3dbcd5e5a"},"destination":{"id":"5101076f-0de5-3b82-a7ae-aca2d895c3ca","type":"PROCESSOR","groupId":"a2fc474c-0373-365e-96a7-8d644c3806e2","name":"Create 1 record per resource","comments":"","instanceIdentifier":"3ea09e13-6f1c-37a2-940e-d212354dbc86"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2fc474c-0373-365e-96a7-8d644c3806e2"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"11633bab-e20c-350a-af5e-4535f4e854c2","instanceIdentifier":"9a61f31c-52f9-3c93-8c86-95c2f1f8c106","name":"Get TTC routes and schedules data","comments":"","position":{"x":240.0,"y":304.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"9437e8d5-521f-31da-9d24-e0aa42093694","instanceIdentifier":"38ee56ba-7e2f-342c-837d-0b39368f8212","name":"Add extract_time","comments":"","position":{"x":344.0,"y":464.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"extract_time":"${now():format(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\")}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","extract_time_int":"${now():toNumber()}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"extract_time":{"name":"extract_time","displayName":"extract_time","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"extract_time_int":{"name":"extract_time_int","displayName":"extract_time_int","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"5ca42a76-0611-311a-b0b2-ff00c46f3247","instanceIdentifier":"9d698812-15cc-30d5-91d2-7a1d51fdabc1","name":"Save file","comments":"","position":{"x":344.0,"y":1488.0},"type":"org.apache.nifi.processors.hadoop.PutCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","writing-strategy":"simpleWrite","Directory":"#{bucket}/#{external_table_path}/#{db}.db/${entity_type}","Conflict Resolution Strategy":"replace"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"writing-strategy":{"name":"writing-strategy","displayName":"Writing Strategy","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"ba73dad3-79b3-3737-aab3-fd13127a9079","instanceIdentifier":"51960f64-4d1e-3c86-a9b4-781e66927255","name":"Add extract_time column","comments":"","position":{"x":344.0,"y":1232.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"record-writer":"26f16180-2f5c-3a13-8833-b49ab15a020e","record-reader":"8e5691f1-7ea8-330b-8155-f2455304d0a2","replacement-value-strategy":"literal-value","/extract_time":"${extract_time}"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false},"/extract_time":{"name":"/extract_time","displayName":"/extract_time","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"199cd725-698d-35cf-8106-dd78a69adc5e","instanceIdentifier":"fb65a136-f9f9-3d31-8599-a51c0a21809e","name":"Get zipped GTFS data","comments":"Probably set it to run on the 15th of every month?\n\n0 0 12 15 1/1 ? *","position":{"x":-360.0,"y":464.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"60 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"#{gtfs_data_url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 mins","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"1 day","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"6ad356a2-7cd5-3849-aff9-700f71d51fef","instanceIdentifier":"942e376b-e465-38b8-8563-c9bbc351d112","name":"Format date fields","comments":"","position":{"x":344.0,"y":976.0},"type":"org.apache.nifi.processors.standard.UpdateRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"/end_date":"format(toDate(/end_date,\"yyyyMMdd\"), \"yyyy-MM-dd\")","record-writer":"e379251e-5184-3f68-ab1a-94dbac0e06da","/date":"format(toDate(/date,\"yyyyMMdd\"), \"yyyy-MM-dd\")","record-reader":"f73b2b95-673f-3304-b922-bdce9d1af314","/start_date":"format(toDate(/start_date,\"yyyyMMdd\"), \"yyyy-MM-dd\")","replacement-value-strategy":"record-path-value"},"propertyDescriptors":{"/end_date":{"name":"/end_date","displayName":"/end_date","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"/date":{"name":"/date","displayName":"/date","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"/start_date":{"name":"/start_date","displayName":"/start_date","identifiesControllerService":false,"sensitive":false},"replacement-value-strategy":{"name":"replacement-value-strategy","displayName":"Replacement Value Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"270d6986-1b71-3c7d-bcc8-eae80f99ceb4","instanceIdentifier":"ecae8775-e732-3fc7-95ab-6213a497db05","name":"Convert to Avro","comments":"","position":{"x":-360.0,"y":1232.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"record-writer":"e379251e-5184-3f68-ab1a-94dbac0e06da","record-reader":"f73b2b95-673f-3304-b922-bdce9d1af314","include-zero-record-flowfiles":"true"},"propertyDescriptors":{"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"e0498dbd-5e87-3682-bbd6-7b9938efb8c7","instanceIdentifier":"10f9e41f-1f87-3e4f-8004-5979d441ec6a","name":"Route files with dates","comments":"","position":{"x":-360.0,"y":976.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","is_calendar_dates":"${entity_type:equals(\"calendar_dates\")}","is_calendar":"${entity_type:equals(\"calendar\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_calendar_dates":{"name":"is_calendar_dates","displayName":"is_calendar_dates","identifiesControllerService":false,"sensitive":false},"is_calendar":{"name":"is_calendar","displayName":"is_calendar","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"da38218e-40bf-3aa6-a5c4-e39a8f42bedf","instanceIdentifier":"5697297e-5093-3f97-b8d0-263bcb696b12","name":"Set schemas and file names","comments":"","position":{"x":-360.0,"y":720.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"entity_type":"${filename:substringBefore('.')}","filename":"gtfs.${filename:substringBefore('.')}.csv","schema.identifier":"${filename:substringBefore('.')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"${filename:substringBefore('.')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"entity_type":{"name":"entity_type","displayName":"entity_type","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"schema.identifier":{"name":"schema.identifier","displayName":"schema.identifier","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"annotationData":"<criteria>\n    <flowFilePolicy>USE_CLONE</flowFilePolicy>\n</criteria>","schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"9fdb841d-eaea-35da-a00a-626c86bd2ea7","instanceIdentifier":"d63a42a2-0dfd-3e73-95fc-863f9c6c4a9a","name":"Unzip CSV data files","comments":"","position":{"x":344.0,"y":720.0},"type":"org.apache.nifi.processors.standard.UnpackContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Packaging Format":"use mime.type attribute","File Filter":".*"},"propertyDescriptors":{"Packaging Format":{"name":"Packaging Format","displayName":"Packaging Format","identifiesControllerService":false,"sensitive":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"43b2f78a-b536-313d-89b0-d5709068fe13","instanceIdentifier":"a86b4162-f395-362e-95e7-04a456394038","name":"is_not_calendar","source":{"id":"e0498dbd-5e87-3682-bbd6-7b9938efb8c7","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Route files with dates","comments":"","instanceIdentifier":"10f9e41f-1f87-3e4f-8004-5979d441ec6a"},"destination":{"id":"270d6986-1b71-3c7d-bcc8-eae80f99ceb4","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Convert to Avro","comments":"","instanceIdentifier":"ecae8775-e732-3fc7-95ab-6213a497db05"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"e2ab56bb-d4cd-3f9e-a485-ab4f58c18e67","instanceIdentifier":"04c82a03-bb7a-3d40-b0ea-feb2dd77ab84","name":"","source":{"id":"5ca42a76-0611-311a-b0b2-ff00c46f3247","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Save file","comments":"","instanceIdentifier":"9d698812-15cc-30d5-91d2-7a1d51fdabc1"},"destination":{"id":"5ca42a76-0611-311a-b0b2-ff00c46f3247","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Save file","comments":"","instanceIdentifier":"9d698812-15cc-30d5-91d2-7a1d51fdabc1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":813.0,"y":1527.0},{"x":813.0,"y":1577.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"f99d3146-a544-3c76-9def-af6505a476ba","instanceIdentifier":"141ef9a1-ada6-37dc-9d9c-119bbb8ad82d","name":"","source":{"id":"da38218e-40bf-3aa6-a5c4-e39a8f42bedf","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Set schemas and file names","comments":"","instanceIdentifier":"5697297e-5093-3f97-b8d0-263bcb696b12"},"destination":{"id":"e0498dbd-5e87-3682-bbd6-7b9938efb8c7","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Route files with dates","comments":"","instanceIdentifier":"10f9e41f-1f87-3e4f-8004-5979d441ec6a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"db137cfd-de5f-3d82-b0ae-8742982bf8f2","instanceIdentifier":"4acd0451-056c-39e4-9c40-a66a9b505a96","name":"","source":{"id":"6ad356a2-7cd5-3849-aff9-700f71d51fef","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Format date fields","comments":"","instanceIdentifier":"942e376b-e465-38b8-8563-c9bbc351d112"},"destination":{"id":"ba73dad3-79b3-3737-aab3-fd13127a9079","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Add extract_time column","comments":"","instanceIdentifier":"51960f64-4d1e-3c86-a9b4-781e66927255"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"38dec9cc-c6b9-355f-b402-2915a1d1fbf8","instanceIdentifier":"f27bb640-8fbb-3c8a-b8d7-3141cda85dc4","name":"","source":{"id":"9437e8d5-521f-31da-9d24-e0aa42093694","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Add extract_time","comments":"","instanceIdentifier":"38ee56ba-7e2f-342c-837d-0b39368f8212"},"destination":{"id":"9fdb841d-eaea-35da-a00a-626c86bd2ea7","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Unzip CSV data files","comments":"","instanceIdentifier":"d63a42a2-0dfd-3e73-95fc-863f9c6c4a9a"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"c075cd38-66c2-3d4c-83ea-a154bfdb2f2b","instanceIdentifier":"07e93606-40f1-37f7-abe7-648629a06bf9","name":"","source":{"id":"199cd725-698d-35cf-8106-dd78a69adc5e","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Get zipped GTFS data","comments":"Probably set it to run on the 15th of every month?\n\n0 0 12 15 1/1 ? *","instanceIdentifier":"fb65a136-f9f9-3d31-8599-a51c0a21809e"},"destination":{"id":"9437e8d5-521f-31da-9d24-e0aa42093694","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Add extract_time","comments":"","instanceIdentifier":"38ee56ba-7e2f-342c-837d-0b39368f8212"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":["org.apache.nifi.prioritizer.FirstInFirstOutPrioritizer"],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"161959b1-db07-3f66-a121-e3ac2bb24837","instanceIdentifier":"715941ee-1040-302c-829b-2c33eeaaf261","name":"","source":{"id":"270d6986-1b71-3c7d-bcc8-eae80f99ceb4","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Convert to Avro","comments":"","instanceIdentifier":"ecae8775-e732-3fc7-95ab-6213a497db05"},"destination":{"id":"ba73dad3-79b3-3737-aab3-fd13127a9079","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Add extract_time column","comments":"","instanceIdentifier":"51960f64-4d1e-3c86-a9b4-781e66927255"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"224f24c2-087a-3906-b674-929ed74d55b7","instanceIdentifier":"9e8426b5-4577-3ef2-a85c-47ade206651b","name":"","source":{"id":"e0498dbd-5e87-3682-bbd6-7b9938efb8c7","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Route files with dates","comments":"","instanceIdentifier":"10f9e41f-1f87-3e4f-8004-5979d441ec6a"},"destination":{"id":"6ad356a2-7cd5-3849-aff9-700f71d51fef","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Format date fields","comments":"","instanceIdentifier":"942e376b-e465-38b8-8563-c9bbc351d112"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_calendar_dates","is_calendar"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"1d8f2061-90a3-3db2-8d08-a1f4d151c943","instanceIdentifier":"58273821-d5cf-3a19-b574-be6a6599be75","name":"","source":{"id":"9fdb841d-eaea-35da-a00a-626c86bd2ea7","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Unzip CSV data files","comments":"","instanceIdentifier":"d63a42a2-0dfd-3e73-95fc-863f9c6c4a9a"},"destination":{"id":"da38218e-40bf-3aa6-a5c4-e39a8f42bedf","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Set schemas and file names","comments":"","instanceIdentifier":"5697297e-5093-3f97-b8d0-263bcb696b12"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"},{"identifier":"2936a1d6-908b-3368-babe-c0eaa332b81b","instanceIdentifier":"a3172b73-822a-3460-8415-14a6b5f8f686","name":"","source":{"id":"ba73dad3-79b3-3737-aab3-fd13127a9079","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Add extract_time column","comments":"","instanceIdentifier":"51960f64-4d1e-3c86-a9b4-781e66927255"},"destination":{"id":"5ca42a76-0611-311a-b0b2-ff00c46f3247","type":"PROCESSOR","groupId":"11633bab-e20c-350a-af5e-4535f4e854c2","name":"Save file","comments":"","instanceIdentifier":"9d698812-15cc-30d5-91d2-7a1d51fdabc1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"11633bab-e20c-350a-af5e-4535f4e854c2"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309","instanceIdentifier":"aee03c0f-6710-177c-8e7d-9b354e44329b","name":"Get weather data","comments":"","position":{"x":1056.0,"y":120.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"95db4b68-7508-38a9-a39a-8d89ab709f37","instanceIdentifier":"25ca3a50-bcee-1987-be67-b1d87c8e3623","name":"Flatten weather record","comments":"","position":{"x":1288.0,"y":-240.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"coord\": {\n\t\t\t\"lon\": \"longitude\",\n\t\t\t\"lat\": \"latitude\"\n\t\t},\n\t\t\"main\": {\n\t\t\t\"temp\": \"temperature\",\n\t\t\t\"temp_min\": \"temperatureMin\",\n\t\t\t\"temp_max\": \"temperatureMax\",\n\t\t\t\"feels_like\": \"feelsLike\",\n\t\t\t\"pressure\": \"pressure\",\n\t\t\t\"humidity\": \"humidity\",\n\t\t\t\"sea_level\": \"pressureSeaLevel\",\n\t\t\t\"grnd_level\": \"pressureGroundLevel\"\n\t\t},\n\t\t\"visibility\": \"visibility\",\n\t\t\"wind\": {\n\t\t\t\"speed\": \"windSpeed\",\n\t\t\t\"deg\": \"windDirectionDegrees\",\n\t\t\t\"gust\": \"windGust\"\n\t\t},\n\t\t\"clouds\": {\n\t\t\t\"all\": \"cloudiness\"\n\t\t},\n\t\"rain\": {\n\t\t\"oneHour\": \"rainLast1Hour\",\n\t\t\"threeHours\": \"rainLast3Hours\"\n\t},\n\t\"snow\": {\n\t\t\"oneHour\": \"snowLast1Hour\",\n\t\t\"threeHours\": \"snowLast3Hours\"\n\t},\n\t\t\"dt\": \"dateTime\",\n      \"sys\": {\n\t\t\"country\": \"countryCode\",\n        \"sunrise\": \"sunriseTime\",\n        \"sunset\": \"sunsetTime\"\n      },\n      \"timezone\":\"timezone\",\n      \"name\": \"city\"\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"3d17054d-1a8c-3207-8daf-a5f0b21fa381","instanceIdentifier":"2bea30a8-7227-1e8a-b8f4-bae3b186a5f2","name":"PublishKafka2RecordCDP","comments":"","position":{"x":680.0,"y":-248.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka2RecordCDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"compression.type":"none","attribute-name-regex":null,"record-writer":"e726333a-1f34-3292-8640-c808a6383601","bootstrap.servers":"#{kafka_brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"partition":null,"record-key-writer":null,"sasl.mechanism":"PLAIN","max.block.ms":"5 sec","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringProducerInterceptor","record-reader":"96b34abb-ad12-3798-9fea-2e53f2b74d1b","message-header-encoding":"UTF-8","kerberos-user-service":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{workload_username}","use-transactions":"true","acks":"all","Record Metadata Strategy":"Use Configured Values","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","max.request.size":"1 MB","sasl.token.auth":"false","message-key-field":null,"Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"${kafka_topic}","sasl.password":"#{workload_password}","publish-strategy":"USE_VALUE"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"record-key-writer":{"name":"record-key-writer","displayName":"Record Key Writer","identifiesControllerService":true,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"Record Metadata Strategy":{"name":"Record Metadata Strategy","displayName":"Record Metadata Strategy","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"message-key-field":{"name":"message-key-field","displayName":"Message Key Field","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"publish-strategy":{"name":"publish-strategy","displayName":"Publish Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"26893139-7a7f-3345-8b69-fa655709c0f5","instanceIdentifier":"8129343b-7a0f-117b-978b-a6989d11aea2","name":"Read locations param","comments":"","position":{"x":64.0,"y":-56.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"#{openweather_api_locations}","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"5 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"2e219f9f-db89-3e7c-8b95-42d3438a79c3","instanceIdentifier":"4ac63710-86eb-1d2f-b093-71626df185f4","name":"Set coordinates attribute","comments":"","position":{"x":64.0,"y":328.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","lon":"$.lon","lat":"$.lat","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"lon":{"name":"lon","displayName":"lon","identifiesControllerService":false,"sensitive":false},"lat":{"name":"lat","displayName":"lat","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"fe00786c-75d4-326e-af38-22132b4b5832","instanceIdentifier":"bdcc3d5b-3346-146f-bb32-ed7e21763bc1","name":"Set schema and kafka topic","comments":"","position":{"x":680.0,"y":328.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"#{schema_weather_current}","kafka_topic":"#{kafka_topic_weather}","Stateful Variables Initial Value":null,"api.call":"https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=#{openweather_api_units}&appid=#{openweather_api_key}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"kafka_topic":{"name":"kafka_topic","displayName":"kafka_topic","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false},"api.call":{"name":"api.call","displayName":"api.call","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"ca967592-2635-3415-a1f6-5c6426d7d558","instanceIdentifier":"8f033abe-093c-1651-b7b8-f6252a3ae4f7","name":"Split locations","comments":"","position":{"x":64.0,"y":136.0},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","Record Reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"e533684b-d998-3ad5-9847-76de0de85a27","instanceIdentifier":"49f833d9-bcb7-1f26-8b54-61f95cc7f161","name":"Request weather","comments":"","position":{"x":680.0,"y":136.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=#{openweather_api_units}&appid=#{openweather_api_key}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"3d92ce3c-b429-36b5-9a6a-d44c40068519","instanceIdentifier":"52da38cb-d9bc-1cfc-b761-804e04db63fb","name":"Set schema and kafka topic","comments":"","position":{"x":1288.0,"y":-48.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"#{schema_weather_current_flat}","kafka_topic":"#{kafka_topic_weather_flat}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false},"kafka_topic":{"name":"kafka_topic","displayName":"kafka_topic","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"45c4d8e9-95fb-325f-8dd7-ae61fe87a0df","instanceIdentifier":"ea5438c8-4291-111e-a4b1-6e49ef05f438","name":"Rename fields to match schema","comments":"Schema Registry doesn't accept \"1h\" and \"3h\" as valid fields","position":{"x":680.0,"y":-56.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": \"&\",\n\t\t\"rain\": {\n\t\t\t\"1h\": \"rain.oneHour\",\n\t\t\t\"3h\": \"rain.threeHours\"\n\t\t},\n\t\t\"snow\": {\n\t\t\t\"1h\": \"snow.oneHour\",\n\t\t\t\"3h\": \"snow.threeHours\"\n\t\t}\n\t}\n}, {\n\t\"operation\": \"modify-overwrite-beta\",\n\t\"spec\": {\n\n\n\t\t\"rain\": {\n\t\t\t\"oneHour\": \"=toDouble\",\n\t\t\t\"threeHours\": \"=toDouble\"\n\t\t},\n\t\t\"snow\": {\n\t\t\t\"oneHour\": \"=toDouble\",\n\t\t\t\"threeHours\": \"=toDouble\"\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"322a817e-d107-363a-bf65-5625bab7b921","instanceIdentifier":"9cb1307b-a54b-1ee6-9e9f-5e5eca4ffaef","name":"","source":{"id":"3d92ce3c-b429-36b5-9a6a-d44c40068519","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set schema and kafka topic","comments":"","instanceIdentifier":"52da38cb-d9bc-1cfc-b761-804e04db63fb"},"destination":{"id":"95db4b68-7508-38a9-a39a-8d89ab709f37","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Flatten weather record","comments":"","instanceIdentifier":"25ca3a50-bcee-1987-be67-b1d87c8e3623"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"908045a3-1208-3961-aa60-c029fca06c1b","instanceIdentifier":"96213886-6a53-142f-aa85-8e083aab3783","name":"","source":{"id":"26893139-7a7f-3345-8b69-fa655709c0f5","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Read locations param","comments":"","instanceIdentifier":"8129343b-7a0f-117b-978b-a6989d11aea2"},"destination":{"id":"ca967592-2635-3415-a1f6-5c6426d7d558","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Split locations","comments":"","instanceIdentifier":"8f033abe-093c-1651-b7b8-f6252a3ae4f7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"3994fca1-5e68-39ab-a806-ae43bf8208cd","instanceIdentifier":"7bc13361-6ae5-1ef9-a14c-06b51556786b","name":"","source":{"id":"fe00786c-75d4-326e-af38-22132b4b5832","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set schema and kafka topic","comments":"","instanceIdentifier":"bdcc3d5b-3346-146f-bb32-ed7e21763bc1"},"destination":{"id":"e533684b-d998-3ad5-9847-76de0de85a27","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Request weather","comments":"","instanceIdentifier":"49f833d9-bcb7-1f26-8b54-61f95cc7f161"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"b647af9b-5504-389c-8e77-12e8934185fa","instanceIdentifier":"f31833d5-21fe-12a8-85ca-c259b203bc88","name":"","source":{"id":"2e219f9f-db89-3e7c-8b95-42d3438a79c3","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set coordinates attribute","comments":"","instanceIdentifier":"4ac63710-86eb-1d2f-b093-71626df185f4"},"destination":{"id":"fe00786c-75d4-326e-af38-22132b4b5832","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set schema and kafka topic","comments":"","instanceIdentifier":"bdcc3d5b-3346-146f-bb32-ed7e21763bc1"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"c17b6317-89a8-3d97-bdac-66c89ccff691","instanceIdentifier":"eeee3cc6-53af-1362-b700-79ad9494a7b5","name":"","source":{"id":"45c4d8e9-95fb-325f-8dd7-ae61fe87a0df","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Rename fields to match schema","comments":"Schema Registry doesn't accept \"1h\" and \"3h\" as valid fields","instanceIdentifier":"ea5438c8-4291-111e-a4b1-6e49ef05f438"},"destination":{"id":"3d17054d-1a8c-3207-8daf-a5f0b21fa381","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"PublishKafka2RecordCDP","comments":"","instanceIdentifier":"2bea30a8-7227-1e8a-b8f4-bae3b186a5f2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"95f3b769-f201-37d0-9b73-1efe3d98c01c","instanceIdentifier":"dec83636-7334-19e0-b678-183e9c01a796","name":"","source":{"id":"e533684b-d998-3ad5-9847-76de0de85a27","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Request weather","comments":"","instanceIdentifier":"49f833d9-bcb7-1f26-8b54-61f95cc7f161"},"destination":{"id":"45c4d8e9-95fb-325f-8dd7-ae61fe87a0df","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Rename fields to match schema","comments":"Schema Registry doesn't accept \"1h\" and \"3h\" as valid fields","instanceIdentifier":"ea5438c8-4291-111e-a4b1-6e49ef05f438"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"6b50d488-758d-381a-9fa0-dbc0f96d4343","instanceIdentifier":"27da36e5-bc5a-1d70-872a-5606a539307f","name":"","source":{"id":"ca967592-2635-3415-a1f6-5c6426d7d558","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Split locations","comments":"","instanceIdentifier":"8f033abe-093c-1651-b7b8-f6252a3ae4f7"},"destination":{"id":"2e219f9f-db89-3e7c-8b95-42d3438a79c3","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set coordinates attribute","comments":"","instanceIdentifier":"4ac63710-86eb-1d2f-b093-71626df185f4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"fca6b3d9-2c01-3eba-b7b1-a0f0847bedc4","instanceIdentifier":"cb7d3c61-2691-110f-aa64-18f795dd0db8","name":"","source":{"id":"95db4b68-7508-38a9-a39a-8d89ab709f37","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Flatten weather record","comments":"","instanceIdentifier":"25ca3a50-bcee-1987-be67-b1d87c8e3623"},"destination":{"id":"3d17054d-1a8c-3207-8daf-a5f0b21fa381","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"PublishKafka2RecordCDP","comments":"","instanceIdentifier":"2bea30a8-7227-1e8a-b8f4-bae3b186a5f2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"4fdbf5a9-682f-39a0-a172-4f63411e8993","instanceIdentifier":"db83325f-6e1d-10f9-ba62-a1e92005bea5","name":"","source":{"id":"45c4d8e9-95fb-325f-8dd7-ae61fe87a0df","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Rename fields to match schema","comments":"Schema Registry doesn't accept \"1h\" and \"3h\" as valid fields","instanceIdentifier":"ea5438c8-4291-111e-a4b1-6e49ef05f438"},"destination":{"id":"3d92ce3c-b429-36b5-9a6a-d44c40068519","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Set schema and kafka topic","comments":"","instanceIdentifier":"52da38cb-d9bc-1cfc-b761-804e04db63fb"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"d5264aec-2fce-3ace-a616-439369d1470e","instanceIdentifier":"ae0d39eb-4476-1f0d-8b26-c70146d29f17","name":"","source":{"id":"3d17054d-1a8c-3207-8daf-a5f0b21fa381","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"PublishKafka2RecordCDP","comments":"","instanceIdentifier":"2bea30a8-7227-1e8a-b8f4-bae3b186a5f2"},"destination":{"id":"3d17054d-1a8c-3207-8daf-a5f0b21fa381","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"PublishKafka2RecordCDP","comments":"","instanceIdentifier":"2bea30a8-7227-1e8a-b8f4-bae3b186a5f2"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":552.0,"y":-168.0},{"x":528.0,"y":-224.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"},{"identifier":"6f98ffbf-0474-3359-8741-ec3df7682f30","instanceIdentifier":"485336dd-6fae-1c5d-8184-b1fa27593cdd","name":"","source":{"id":"e533684b-d998-3ad5-9847-76de0de85a27","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Request weather","comments":"","instanceIdentifier":"49f833d9-bcb7-1f26-8b54-61f95cc7f161"},"destination":{"id":"e533684b-d998-3ad5-9847-76de0de85a27","type":"PROCESSOR","groupId":"a2c971e5-353b-3b09-aa6d-60c9f7236309","name":"Request weather","comments":"","instanceIdentifier":"49f833d9-bcb7-1f26-8b54-61f95cc7f161"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":696.0,"y":104.0},{"x":560.0,"y":104.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"a2c971e5-353b-3b09-aa6d-60c9f7236309"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"f34d1a6e-a73f-3998-8be6-887d33e915db","instanceIdentifier":"f172e509-dbff-3149-bd43-73a158397560","name":"Get traffic camera images","comments":"","position":{"x":648.0,"y":304.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"f2f102bb-b409-3cac-b2a3-29c7ec0dc1ee","instanceIdentifier":"1254927d-3e0b-3100-ae21-bdb8f40751b4","name":"Get data records","comments":"","position":{"x":960.0,"y":760.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"features\": {\n\t\t\t\"*\": \"[]\"\n\t\t}\n\t}\n},\n {\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"*\": {\n\t\t\t\"properties\": {\n              \"REC_ID\": \"[&2].camera_id\",\n              \"IMAGEURL\": \"[&2].image_url\",\n              \"MAINROAD\": \"[&2].main_road\",\n              \"CROSSROAD\": \"[&2].cross_road\",\n              \"DIRECTION1\": \"[&2].direction1\",\n              \"DIRECTION2\": \"[&2].direction2\",\n              \"REFURL1\": \"[&2].north_reference_static_image\",\n              \"REFURL2\": \"[&2].east_reference_static_image\",\n              \"REFURL3\": \"[&2].south_reference_static_image\",\n              \"REFURL4\": \"[&2].west_reference_static_image\"\n            },\n          \"geometry\": {\n            \"coordinates\": \"[&2].coordinates\"\n          }\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"5b97828b-91a5-3c30-bdc5-1fcefa74f6f1","instanceIdentifier":"ed253348-657a-3889-8e40-b26071a64711","name":"Set attributes","comments":"","position":{"x":256.0,"y":1016.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","cross_road":"$.cross_road","image_url":"$.image_url","Return Type":"auto-detect","latitude":"$.coordinates[1]","camera_id":"$.camera_id","Null Value Representation":"empty string","main_road":"$.main_road","Path Not Found Behavior":"ignore","longitude":"$.coordinates[0]"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"cross_road":{"name":"cross_road","displayName":"cross_road","identifiesControllerService":false,"sensitive":false},"image_url":{"name":"image_url","displayName":"image_url","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"latitude":{"name":"latitude","displayName":"latitude","identifiesControllerService":false,"sensitive":false},"camera_id":{"name":"camera_id","displayName":"camera_id","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"main_road":{"name":"main_road","displayName":"main_road","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"longitude":{"name":"longitude","displayName":"longitude","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"6b4743e4-d3c5-3a41-aaec-dd2678fcaa5e","instanceIdentifier":"fd2248b9-12d7-37ed-94df-ffd62498badf","name":"Set filename & bucket path","comments":"","position":{"x":960.0,"y":1016.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"bucket_path":"#{bucket}/#{image_storage_path}/traffic_cameras","Delete Attributes Expression":null,"filename":"${camera_id}__${now():toNumber()}.jpeg","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"bucket_path":{"name":"bucket_path","displayName":"bucket_path","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"12164718-56ca-3129-86bc-0a83de7527b6","instanceIdentifier":"a56929dd-3f66-3164-b648-2487f1c9d92e","name":"Get camera locations","comments":"","position":{"x":256.0,"y":1272.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"${image_url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36"},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":["Retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"c1e1d0dd-6b24-34e0-a179-b48460740d51","instanceIdentifier":"5fc1404f-6be6-3af9-add6-0b59ba45a7ca","name":"ControlRate","comments":"","position":{"x":960.0,"y":1272.0},"type":"org.apache.nifi.processors.standard.ControlRate","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Time Duration":"5 sec","Grouping Attribute":null,"Maximum Rate":"30","Rate Controlled Attribute":null,"Rate Control Criteria":"flowfile count"},"propertyDescriptors":{"Time Duration":{"name":"Time Duration","displayName":"Time Duration","identifiesControllerService":false,"sensitive":false},"Grouping Attribute":{"name":"Grouping Attribute","displayName":"Grouping Attribute","identifiesControllerService":false,"sensitive":false},"Maximum Rate":{"name":"Maximum Rate","displayName":"Maximum Rate","identifiesControllerService":false,"sensitive":false},"Rate Controlled Attribute":{"name":"Rate Controlled Attribute","displayName":"Rate Controlled Attribute","identifiesControllerService":false,"sensitive":false},"Rate Control Criteria":{"name":"Rate Control Criteria","displayName":"Rate Control Criteria","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"8cec6cd7-ee81-35c7-9ecd-b347e093b8b5","instanceIdentifier":"992d4643-07de-3c8c-ac23-69bdf666d927","name":"Set file name","comments":"","position":{"x":960.0,"y":1784.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"bucket_path":"#{bucket}/#{image_storage_path}/traffic_cameras_xs","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"bucket_path":{"name":"bucket_path","displayName":"bucket_path","identifiesControllerService":false,"sensitive":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"8a305c44-d24f-3d91-99dd-13c9949fce66","instanceIdentifier":"4c3921be-83ca-3238-9c74-4af26a2e28cb","name":"PutCDPObjectStore","comments":"","position":{"x":1456.0,"y":1528.0},"type":"org.apache.nifi.processors.hadoop.PutCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","writing-strategy":"simpleWrite","Directory":"${bucket_path}","Conflict Resolution Strategy":"fail"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"writing-strategy":{"name":"writing-strategy","displayName":"Writing Strategy","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"aeb61fed-8e56-3d8f-99ad-e642889a5a58","instanceIdentifier":"f95f97ea-33c5-371e-94dc-898525aa0ddc","name":"Set attributes","comments":"","position":{"x":256.0,"y":248.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","Return Type":"auto-detect","Null Value Representation":"empty string","package_id":"$.package_id","package_refresh_rate":"$.package_refresh_rate","package_title":"$.package_title","url":"$.url","Path Not Found Behavior":"ignore","package_last_refreshed":"$.package_last_refreshed","package_date_published":"$.package_date_published","datastore_active":"$.datastore_active","package_name":"$.package_name","resource_id":"$.resource_id","resource_name":"$.resource_name","file_format":"$.file_format"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"package_id":{"name":"package_id","displayName":"package_id","identifiesControllerService":false,"sensitive":false},"package_refresh_rate":{"name":"package_refresh_rate","displayName":"package_refresh_rate","identifiesControllerService":false,"sensitive":false},"package_title":{"name":"package_title","displayName":"package_title","identifiesControllerService":false,"sensitive":false},"url":{"name":"url","displayName":"url","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"package_last_refreshed":{"name":"package_last_refreshed","displayName":"package_last_refreshed","identifiesControllerService":false,"sensitive":false},"package_date_published":{"name":"package_date_published","displayName":"package_date_published","identifiesControllerService":false,"sensitive":false},"datastore_active":{"name":"datastore_active","displayName":"datastore_active","identifiesControllerService":false,"sensitive":false},"package_name":{"name":"package_name","displayName":"package_name","identifiesControllerService":false,"sensitive":false},"resource_id":{"name":"resource_id","displayName":"resource_id","identifiesControllerService":false,"sensitive":false},"resource_name":{"name":"resource_name","displayName":"resource_name","identifiesControllerService":false,"sensitive":false},"file_format":{"name":"file_format","displayName":"file_format","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"d6c886b0-c43d-3dbf-b507-a56836601733","instanceIdentifier":"e9115459-efa5-3e7f-a1cd-50dddfc73dcc","name":"Valid responses","comments":"","position":{"x":256.0,"y":1528.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","is_jpeg":"${Content-Type:equals(\"image/jpeg\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_jpeg":{"name":"is_jpeg","displayName":"is_jpeg","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"f031f785-28cd-34d5-bf99-da33527fa07d","instanceIdentifier":"53457460-ad10-3ac9-ba6b-4d6298a2e956","name":"ResizeImage","comments":"","position":{"x":256.0,"y":1784.0},"type":"org.apache.nifi.processors.image.ResizeImage","bundle":{"group":"org.apache.nifi","artifact":"nifi-media-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Scaling Algorithm":"Default","Image Width (in pixels)":"200","keep-ratio":"true","Image Height (in pixels)":"112"},"propertyDescriptors":{"Scaling Algorithm":{"name":"Scaling Algorithm","displayName":"Scaling Algorithm","identifiesControllerService":false,"sensitive":false},"Image Width (in pixels)":{"name":"Image Width (in pixels)","displayName":"Image Width (in pixels)","identifiesControllerService":false,"sensitive":false},"keep-ratio":{"name":"keep-ratio","displayName":"Maintain aspect ratio","identifiesControllerService":false,"sensitive":false},"Image Height (in pixels)":{"name":"Image Height (in pixels)","displayName":"Image Height (in pixels)","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"c0a2981f-59b9-39b1-b48e-f13c83bb0dd9","instanceIdentifier":"b6b953b3-3660-359c-a7ae-2ac22556cf46","name":"Keep only WGS84 GeoJSON","comments":"","position":{"x":256.0,"y":504.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","datastore":"${datastore_active:equals(\"true\")}","is_4326_geojson":"${\n\tfile_format\n\t:equalsIgnoreCase(\"geojson\")\n\t:and(\n\t\t${url\n\t\t\t:substringAfterLast(\"-\")\n\t\t\t:equals(\"4326.geojson\")\n\t\t}\n\t)\n}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"datastore":{"name":"datastore","displayName":"datastore","identifiesControllerService":false,"sensitive":false},"is_4326_geojson":{"name":"is_4326_geojson","displayName":"is_4326_geojson","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["datastore","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"f185846f-2c77-368d-aded-be3e2d913871","instanceIdentifier":"2a8512dd-8f3a-3500-a706-c076ba368466","name":"Explode resources","comments":"","position":{"x":960.0,"y":-8.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"result\": {\n\t\t\t\"*\": \"&0\"\n\t\t}\n\t}\n}, {\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"resources\": {\n\t\t\t\"*\": {\n\t\t\t\t\"@(2,id)\": \"[&1].package_id\",\n\t\t\t\t\"@(2,name)\": \"[&1].package_name\",\n\t\t\t\t\"@(2,title)\": \"[&1].package_title\",\n\t\t\t\t\"@(2,refresh_rate)\": \"[&1].package_refresh_rate\",\n\t\t\t\t\"@(2,date_published)\": \"[&1].package_date_published\",\n\t\t\t\t\"@(2,last_refreshed)\": \"[&1].package_last_refreshed\",\n\t\t\t\t\"id\": \"[&1].resource_id\",\n\t\t\t\t\"name\": \"[&1].resource_name\",\n\t\t\t\t\"datastore_active\": \"[&1].datastore_active\",\n\t\t\t\t\"format\": \"[&1].file_format\",\n\t\t\t\t\"url\": \"[&1].url\"\n\t\t\t}\n\t\t}\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"eae4a3a7-e16f-3c2b-9c99-ee68b8cfeabf","instanceIdentifier":"bb1510c5-e134-3369-8a89-afd9a4823866","name":"Get CKAN package","comments":"","position":{"x":256.0,"y":-8.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"https://open.toronto.ca/api/package_show?id=#{traffic_cameras_ckan_pkg}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"3 min","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"21a31601-c937-3299-a77d-e0a2a15d9cbb","instanceIdentifier":"cb6fa0fe-1a6a-3ca1-acc9-97c3bc9efa91","name":"Create 1 record per resource","comments":"","position":{"x":960.0,"y":248.0},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","Record Reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"78138304-f5c7-32de-ba32-5b7d76985893","instanceIdentifier":"be4be6d5-a65a-3110-9b7c-aa051768c4d9","name":"Get camera locations","comments":"","position":{"x":960.0,"y":504.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Proxy Host":null,"Attributes to Send":null,"use-etag":"false","proxy-configuration-service":null,"Proxy Type":"http","cookie-strategy":"DISABLED","Connection Timeout":"5 secs","send-message-body":"true","set-form-filename":"true","Always Output Response":"false","etag-max-cache-size":"10MB","Content-Encoding":"DISABLED","disable-http2":"False","idle-timeout":"5 mins","Put Response Body In Attribute":null,"Use Chunked Encoding":"false","Follow Redirects":"True","Remote URL":"${url}","form-body-form-name":null,"Content-Type":"${mime.type}","flow-file-naming-strategy":"RANDOM","max-idle-connections":"5","invokehttp-proxy-user":null,"Read Timeout":"15 secs","Max Length To Put In Attribute":"256","ignore-response-content":"false","Proxy Port":null,"SSL Context Service":null,"Digest Authentication":"false","HTTP Method":"GET","Add Response Headers to Request":"false","oauth2-access-token-provider":null,"Basic Authentication Username":null,"Include Date Header":"True","Penalize on \"No Retry\"":"false","Useragent":null},"propertyDescriptors":{"Proxy Host":{"name":"Proxy Host","displayName":"Proxy Host","identifiesControllerService":false,"sensitive":false},"Attributes to Send":{"name":"Attributes to Send","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false},"use-etag":{"name":"use-etag","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false},"Proxy Type":{"name":"Proxy Type","displayName":"Proxy Type","identifiesControllerService":false,"sensitive":false},"Basic Authentication Password":{"name":"Basic Authentication Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true},"cookie-strategy":{"name":"cookie-strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Socket Connect Timeout","identifiesControllerService":false,"sensitive":false},"send-message-body":{"name":"send-message-body","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false},"set-form-filename":{"name":"set-form-filename","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false},"Always Output Response":{"name":"Always Output Response","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false},"etag-max-cache-size":{"name":"etag-max-cache-size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false},"Content-Encoding":{"name":"Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false},"disable-http2":{"name":"disable-http2","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false},"idle-timeout":{"name":"idle-timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false},"Put Response Body In Attribute":{"name":"Put Response Body In Attribute","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false},"Follow Redirects":{"name":"Follow Redirects","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false},"Remote URL":{"name":"Remote URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false},"form-body-form-name":{"name":"form-body-form-name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false},"Content-Type":{"name":"Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false},"flow-file-naming-strategy":{"name":"flow-file-naming-strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false},"max-idle-connections":{"name":"max-idle-connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-user":{"name":"invokehttp-proxy-user","displayName":"Proxy Username","identifiesControllerService":false,"sensitive":false},"Read Timeout":{"name":"Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false},"Max Length To Put In Attribute":{"name":"Max Length To Put In Attribute","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false},"invokehttp-proxy-password":{"name":"invokehttp-proxy-password","displayName":"Proxy Password","identifiesControllerService":false,"sensitive":true},"ignore-response-content":{"name":"ignore-response-content","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false},"Proxy Port":{"name":"Proxy Port","displayName":"Proxy Port","identifiesControllerService":false,"sensitive":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"Digest Authentication":{"name":"Digest Authentication","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false},"Add Response Headers to Request":{"name":"Add Response Headers to Request","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false},"oauth2-access-token-provider":{"name":"oauth2-access-token-provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false},"Basic Authentication Username":{"name":"Basic Authentication Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false},"Include Date Header":{"name":"Include Date Header","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false},"Penalize on \"No Retry\"":{"name":"Penalize on \"No Retry\"","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false},"Useragent":{"name":"Useragent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":["Retry"],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"7e500569-7f75-3a6a-b994-11188f6aacca","instanceIdentifier":"1e3b7687-1883-3358-bb73-110dbe140c30","name":"Split records","comments":"","position":{"x":256.0,"y":760.0},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"b09d941a-a200-3c19-a226-fb18f0d1fc97","Record Reader":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"764a7901-d6c6-3d90-ae32-c5cd288e82ae","instanceIdentifier":"76db0e50-ff1e-31aa-866a-f62a0a29c5a2","name":"","source":{"id":"f2f102bb-b409-3cac-b2a3-29c7ec0dc1ee","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get data records","comments":"","instanceIdentifier":"1254927d-3e0b-3100-ae21-bdb8f40751b4"},"destination":{"id":"7e500569-7f75-3a6a-b994-11188f6aacca","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Split records","comments":"","instanceIdentifier":"1e3b7687-1883-3358-bb73-110dbe140c30"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"71f2d335-eca5-32fa-ad17-1849fe6d7d30","instanceIdentifier":"14717ae8-88fb-3377-952f-0f5b7167a820","name":"","source":{"id":"c0a2981f-59b9-39b1-b48e-f13c83bb0dd9","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Keep only WGS84 GeoJSON","comments":"","instanceIdentifier":"b6b953b3-3660-359c-a7ae-2ac22556cf46"},"destination":{"id":"78138304-f5c7-32de-ba32-5b7d76985893","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"be4be6d5-a65a-3110-9b7c-aa051768c4d9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_4326_geojson"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":792.0,"y":568.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"9b51b4be-4485-36a4-a2af-bcff8aa44a2a","instanceIdentifier":"3ca9d60f-d15b-3023-970d-abaf3df55aa5","name":"","source":{"id":"12164718-56ca-3129-86bc-0a83de7527b6","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"a56929dd-3f66-3164-b648-2487f1c9d92e"},"destination":{"id":"12164718-56ca-3129-86bc-0a83de7527b6","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"a56929dd-3f66-3164-b648-2487f1c9d92e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":152.0,"y":1296.0},{"x":104.0,"y":1344.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"24693c26-5d52-36d0-80b6-cf34aa993bb6","instanceIdentifier":"b87578e0-2dba-3743-b5d5-be23f1ece697","name":"","source":{"id":"6b4743e4-d3c5-3a41-aaec-dd2678fcaa5e","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set filename & bucket path","comments":"","instanceIdentifier":"fd2248b9-12d7-37ed-94df-ffd62498badf"},"destination":{"id":"c1e1d0dd-6b24-34e0-a179-b48460740d51","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"ControlRate","comments":"","instanceIdentifier":"5fc1404f-6be6-3af9-add6-0b59ba45a7ca"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"150 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"701d4910-3496-3cd5-a351-7ef5ba4bdb86","instanceIdentifier":"da005b48-175f-37c4-a2e6-52f74809c8ee","name":"","source":{"id":"d6c886b0-c43d-3dbf-b507-a56836601733","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Valid responses","comments":"","instanceIdentifier":"e9115459-efa5-3e7f-a1cd-50dddfc73dcc"},"destination":{"id":"b52a4f82-3468-3436-a6ef-28ba160fb89e","type":"FUNNEL","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Funnel","comments":"","instanceIdentifier":"46a864c1-7fd0-38f1-8ff2-6d77d3116669"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_jpeg"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"4dc512a4-c6b2-34c6-99ae-d7ac5df9d4b2","instanceIdentifier":"a07cee41-882f-3bea-9151-ec006bda614d","name":"","source":{"id":"5b97828b-91a5-3c30-bdc5-1fcefa74f6f1","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set attributes","comments":"","instanceIdentifier":"ed253348-657a-3889-8e40-b26071a64711"},"destination":{"id":"6b4743e4-d3c5-3a41-aaec-dd2678fcaa5e","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set filename & bucket path","comments":"","instanceIdentifier":"fd2248b9-12d7-37ed-94df-ffd62498badf"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"486b4055-5bec-340b-81f2-f1c50a8a2f12","instanceIdentifier":"998c8504-13c7-3cf2-aafa-d4bd4352b489","name":"","source":{"id":"78138304-f5c7-32de-ba32-5b7d76985893","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"be4be6d5-a65a-3110-9b7c-aa051768c4d9"},"destination":{"id":"78138304-f5c7-32de-ba32-5b7d76985893","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"be4be6d5-a65a-3110-9b7c-aa051768c4d9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1432.1254,"y":544.80286},{"x":1432.1254,"y":594.80286}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"12ac447f-52a5-3281-864b-806d3605db11","instanceIdentifier":"dc1daeb1-5d5e-3e93-88aa-48671eac75b1","name":"","source":{"id":"78138304-f5c7-32de-ba32-5b7d76985893","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"be4be6d5-a65a-3110-9b7c-aa051768c4d9"},"destination":{"id":"f2f102bb-b409-3cac-b2a3-29c7ec0dc1ee","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get data records","comments":"","instanceIdentifier":"1254927d-3e0b-3100-ae21-bdb8f40751b4"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"834280e7-86e1-3a05-8223-5fc453fe829b","instanceIdentifier":"7ef112df-d098-30d8-9224-3a7fbf0df0b1","name":"","source":{"id":"21a31601-c937-3299-a77d-e0a2a15d9cbb","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Create 1 record per resource","comments":"","instanceIdentifier":"cb6fa0fe-1a6a-3ca1-acc9-97c3bc9efa91"},"destination":{"id":"aeb61fed-8e56-3d8f-99ad-e642889a5a58","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set attributes","comments":"","instanceIdentifier":"f95f97ea-33c5-371e-94dc-898525aa0ddc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"d4f0a821-93bf-353f-b513-d528a67e52cf","instanceIdentifier":"1f315906-ee61-3a53-89c7-515abdf2ddab","name":"","source":{"id":"f031f785-28cd-34d5-bf99-da33527fa07d","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"ResizeImage","comments":"","instanceIdentifier":"53457460-ad10-3ac9-ba6b-4d6298a2e956"},"destination":{"id":"8cec6cd7-ee81-35c7-9ecd-b347e093b8b5","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set file name","comments":"","instanceIdentifier":"992d4643-07de-3c8c-ac23-69bdf666d927"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"3d3c827e-1188-3289-9a0d-7e3b796d27b0","instanceIdentifier":"6633a54c-7e39-3000-bc06-c3369cdaceee","name":"","source":{"id":"aeb61fed-8e56-3d8f-99ad-e642889a5a58","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set attributes","comments":"","instanceIdentifier":"f95f97ea-33c5-371e-94dc-898525aa0ddc"},"destination":{"id":"c0a2981f-59b9-39b1-b48e-f13c83bb0dd9","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Keep only WGS84 GeoJSON","comments":"","instanceIdentifier":"b6b953b3-3660-359c-a7ae-2ac22556cf46"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"a47f67a3-5cef-3628-8bb2-ec2c407c7331","instanceIdentifier":"4ae5285c-387c-38af-90ff-c2b361748df3","name":"","source":{"id":"eae4a3a7-e16f-3c2b-9c99-ee68b8cfeabf","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get CKAN package","comments":"","instanceIdentifier":"bb1510c5-e134-3369-8a89-afd9a4823866"},"destination":{"id":"f185846f-2c77-368d-aded-be3e2d913871","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Explode resources","comments":"","instanceIdentifier":"2a8512dd-8f3a-3500-a706-c076ba368466"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"ec40be81-f841-35f1-baf9-178f158dc588","instanceIdentifier":"5341fd33-0c89-3881-877c-2aeb3931e97b","name":"","source":{"id":"d6c886b0-c43d-3dbf-b507-a56836601733","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Valid responses","comments":"","instanceIdentifier":"e9115459-efa5-3e7f-a1cd-50dddfc73dcc"},"destination":{"id":"f031f785-28cd-34d5-bf99-da33527fa07d","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"ResizeImage","comments":"","instanceIdentifier":"53457460-ad10-3ac9-ba6b-4d6298a2e956"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_jpeg"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"20c404d4-2afe-352f-852e-f64ca8c7c70c","instanceIdentifier":"fba54fa1-91c9-3644-8538-c93b45c13527","name":"","source":{"id":"12164718-56ca-3129-86bc-0a83de7527b6","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"a56929dd-3f66-3164-b648-2487f1c9d92e"},"destination":{"id":"d6c886b0-c43d-3dbf-b507-a56836601733","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Valid responses","comments":"","instanceIdentifier":"e9115459-efa5-3e7f-a1cd-50dddfc73dcc"},"labelIndex":1,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"bf4cd2da-696d-357e-8b60-9585b276b891","instanceIdentifier":"298c2e30-3b91-3b83-b2ef-6999ad1d17d1","name":"","source":{"id":"b52a4f82-3468-3436-a6ef-28ba160fb89e","type":"FUNNEL","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Funnel","comments":"","instanceIdentifier":"46a864c1-7fd0-38f1-8ff2-6d77d3116669"},"destination":{"id":"8a305c44-d24f-3d91-99dd-13c9949fce66","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"PutCDPObjectStore","comments":"","instanceIdentifier":"4c3921be-83ca-3238-9c74-4af26a2e28cb"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"d840f274-e336-38f4-8ac3-cda7a16afe6b","instanceIdentifier":"cdc68f93-ab34-3d0d-9813-6cb865b88ca0","name":"","source":{"id":"8cec6cd7-ee81-35c7-9ecd-b347e093b8b5","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set file name","comments":"","instanceIdentifier":"992d4643-07de-3c8c-ac23-69bdf666d927"},"destination":{"id":"b52a4f82-3468-3436-a6ef-28ba160fb89e","type":"FUNNEL","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Funnel","comments":"","instanceIdentifier":"46a864c1-7fd0-38f1-8ff2-6d77d3116669"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"4d3b5096-3363-3b18-88aa-ce6ddb91b7e2","instanceIdentifier":"ad7fc87d-b7cb-34c0-aef0-98fcf935792b","name":"","source":{"id":"f185846f-2c77-368d-aded-be3e2d913871","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Explode resources","comments":"","instanceIdentifier":"2a8512dd-8f3a-3500-a706-c076ba368466"},"destination":{"id":"21a31601-c937-3299-a77d-e0a2a15d9cbb","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Create 1 record per resource","comments":"","instanceIdentifier":"cb6fa0fe-1a6a-3ca1-acc9-97c3bc9efa91"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"ac39032a-d739-38c6-aab3-39b7cfccf198","instanceIdentifier":"dc4d3b34-762e-3667-8af2-cfd6874c385f","name":"","source":{"id":"c1e1d0dd-6b24-34e0-a179-b48460740d51","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"ControlRate","comments":"","instanceIdentifier":"5fc1404f-6be6-3af9-add6-0b59ba45a7ca"},"destination":{"id":"12164718-56ca-3129-86bc-0a83de7527b6","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Get camera locations","comments":"","instanceIdentifier":"a56929dd-3f66-3164-b648-2487f1c9d92e"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"150 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"ROUND_ROBIN","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"d6a601fb-6bd6-3244-a759-a70e6d697df4","instanceIdentifier":"0aed5139-0187-1000-0000-00000368b98d","name":"","source":{"id":"f031f785-28cd-34d5-bf99-da33527fa07d","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"ResizeImage","comments":"","instanceIdentifier":"53457460-ad10-3ac9-ba6b-4d6298a2e956"},"destination":{"id":"270c178b-9634-3945-90e3-eae1ea1716c4","type":"FUNNEL","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Funnel","comments":"","instanceIdentifier":"0aed420d-0187-1000-ffff-ffff83e16ea8"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"167722bd-75e4-377e-a40b-87998cf87771","instanceIdentifier":"9a63d480-0bda-3d42-baa5-4a8b4a5bc334","name":"","source":{"id":"7e500569-7f75-3a6a-b994-11188f6aacca","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Split records","comments":"","instanceIdentifier":"1e3b7687-1883-3358-bb73-110dbe140c30"},"destination":{"id":"5b97828b-91a5-3c30-bdc5-1fcefa74f6f1","type":"PROCESSOR","groupId":"f34d1a6e-a73f-3998-8be6-887d33e915db","name":"Set attributes","comments":"","instanceIdentifier":"ed253348-657a-3889-8e40-b26071a64711"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"}],"labels":[],"funnels":[{"identifier":"270c178b-9634-3945-90e3-eae1ea1716c4","instanceIdentifier":"0aed420d-0187-1000-ffff-ffff83e16ea8","position":{"x":408.0,"y":2056.0},"componentType":"FUNNEL","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"},{"identifier":"b52a4f82-3468-3436-a6ef-28ba160fb89e","instanceIdentifier":"46a864c1-7fd0-38f1-8ff2-6d77d3116669","position":{"x":1112.0,"y":1568.0},"componentType":"FUNNEL","groupIdentifier":"f34d1a6e-a73f-3998-8be6-887d33e915db"}],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4","instanceIdentifier":"28c36431-b05e-33ef-9441-09d83550dd7f","name":"Get Twitter data","comments":"","position":{"x":232.0,"y":-408.0},"processGroups":[{"identifier":"3c96a770-e1af-3cc6-8721-42f4387679a8","instanceIdentifier":"d7776046-ea79-3df0-bf50-29b22e9461fa","name":"Recreate Tweet stream","comments":"","position":{"x":336.0,"y":352.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"b710d4b0-0dc7-3c65-9c2b-92d29899ff65","instanceIdentifier":"c88ab852-3b1d-3f89-89ff-1d17b4fc177f","name":"Compress","comments":"","position":{"x":1088.0,"y":448.0},"type":"org.apache.nifi.processors.standard.CompressContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Compression Format":"gzip","Mode":"compress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"5f7e7b54-ba3e-3233-8f29-ab39e442592c","instanceIdentifier":"5294f9f7-c900-3ed6-94c9-819b95a9da72","name":"ListCDPObjectStore","comments":"","position":{"x":1088.0,"y":-320.0},"type":"org.apache.nifi.processors.hadoop.ListCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","maximum-file-age":null,"record-writer":null,"cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","Recurse Subdirectories":"true","file-filter-mode":"filter-mode-directories-and-files","minimum-file-age":null,"File Filter":"[^\\.].*","Directory":"#{bucket}/#{backup_storage_path}/tweets"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"maximum-file-age":{"name":"maximum-file-age","displayName":"Maximum File Age","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"Recurse Subdirectories":{"name":"Recurse Subdirectories","displayName":"Recurse Subdirectories","identifiesControllerService":false,"sensitive":false},"file-filter-mode":{"name":"file-filter-mode","displayName":"File Filter Mode","identifiesControllerService":false,"sensitive":false},"minimum-file-age":{"name":"minimum-file-age","displayName":"Minimum File Age","identifiesControllerService":false,"sensitive":false},"File Filter":{"name":"File Filter","displayName":"File Filter","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"3 hours","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"68762caa-43fb-36c0-98a9-7ebdc5a25fc7","instanceIdentifier":"928377a5-3e1a-3da9-9034-d40cb0de5567","name":"Get file","comments":"","position":{"x":1088.0,"y":-64.0},"type":"org.apache.nifi.processors.hadoop.FetchCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"filename":"${path}/${filename}","Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"filename":{"name":"filename","displayName":"Filename","identifiesControllerService":false,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["comms.failure","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"830d1182-39b2-3957-8516-1d1875a7d3c1","instanceIdentifier":"f4776b60-117b-32cf-9e9d-6499ba07036b","name":"Decompress if needed","comments":"","position":{"x":384.0,"y":192.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","is_compressed":"${filename:endsWith(\"gz\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_compressed":{"name":"is_compressed","displayName":"is_compressed","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"c63f9a86-ab7d-3c94-bab1-906cc1a247aa","instanceIdentifier":"d845fb1c-1a31-3372-83c6-fe14b567c7aa","name":"SplitRecord","comments":"","position":{"x":384.0,"y":448.0},"type":"org.apache.nifi.processors.standard.SplitRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Record Writer":"88cd657a-3fee-3950-ad2f-04c14873d89e","Record Reader":"66c430ee-4372-323b-8d5e-26037dc188ab","Records Per Split":"1"},"propertyDescriptors":{"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Records Per Split":{"name":"Records Per Split","displayName":"Records Per Split","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"aba280a7-80c1-36a9-a34a-d1df988edbdb","instanceIdentifier":"3ac5c531-d032-3cdd-a9fe-aefdc05f4895","name":"Delete old file","comments":"","position":{"x":1088.0,"y":960.0},"type":"org.apache.nifi.processors.hadoop.DeleteCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","file_or_directory":"${path}/${original_filename}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"file_or_directory":{"name":"file_or_directory","displayName":"Path","identifiesControllerService":false,"sensitive":false},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"0e208bb3-c3f5-389a-96b7-f83ad4142ec5","instanceIdentifier":"e6ef178e-4aa7-3536-82f1-a5fbf3e7a778","name":"Write processed file","comments":"","position":{"x":1088.0,"y":704.0},"type":"org.apache.nifi.processors.hadoop.PutCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","writing-strategy":"simpleWrite","Directory":"#{bucket}/#{backup_storage_path}/tweets","Conflict Resolution Strategy":"fail"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"writing-strategy":{"name":"writing-strategy","displayName":"Writing Strategy","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"3655e154-44d0-3086-806e-1925f2775fef","instanceIdentifier":"27904b25-6e90-3e32-b14e-cd80f80f6365","name":"Decompress","comments":"","position":{"x":-320.0,"y":320.0},"type":"org.apache.nifi.processors.standard.CompressContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Compression Format":"gzip","Mode":"decompress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"bb6a6d4a-a3de-3229-9480-968bbe8059ab","instanceIdentifier":"34be5208-b27f-3492-95fc-4c268898ea33","name":"Skip before specific date","comments":"","position":{"x":384.0,"y":-64.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","is_after_unix_ts":"${filename:substringBefore(\".\"):toNumber():gt(\"1664337600\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"is_after_unix_ts":{"name":"is_after_unix_ts","displayName":"is_after_unix_ts","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"dc5e7158-7db7-348f-a8a4-c7df0408978d","instanceIdentifier":"9c58893a-9879-33de-b5c0-ffe5db27f35d","name":"Skip processed files","comments":"","position":{"x":384.0,"y":-320.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Routing Strategy":"Route to Property name","not_processed":"${filename:startsWith(\"processed\"):not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false},"not_processed":{"name":"not_processed","displayName":"not_processed","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"619d4c1f-d863-36c7-ae59-44adc7d45187","instanceIdentifier":"8492aa59-3d17-3a28-aeca-44c8a973d61d","name":"Add processed to filename","comments":"","position":{"x":1088.0,"y":192.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"filename":"processed.${filename}","original_filename":"${filename}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"original_filename":{"name":"original_filename","displayName":"original_filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"}],"inputPorts":[],"outputPorts":[{"identifier":"b870bf66-85d6-3095-823a-e6ca19356eed","instanceIdentifier":"7ecddc1c-b38e-34df-9d6f-d8c2455fb5be","name":"Tweet","comments":"","position":{"x":440.0,"y":736.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"}],"connections":[{"identifier":"87b4c0b3-1c5d-3ece-a80e-7f842836ac2e","instanceIdentifier":"70e985d0-fcf3-3064-9bc3-b77c828d0598","name":"","source":{"id":"b710d4b0-0dc7-3c65-9c2b-92d29899ff65","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Compress","comments":"","instanceIdentifier":"c88ab852-3b1d-3f89-89ff-1d17b4fc177f"},"destination":{"id":"0e208bb3-c3f5-389a-96b7-f83ad4142ec5","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Write processed file","comments":"","instanceIdentifier":"e6ef178e-4aa7-3536-82f1-a5fbf3e7a778"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"62af89c0-c7cd-3eeb-9777-64120b1b0895","instanceIdentifier":"cce57aae-b79d-3bbd-9097-6eb716a59d33","name":"","source":{"id":"830d1182-39b2-3957-8516-1d1875a7d3c1","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Decompress if needed","comments":"","instanceIdentifier":"f4776b60-117b-32cf-9e9d-6499ba07036b"},"destination":{"id":"c63f9a86-ab7d-3c94-bab1-906cc1a247aa","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"SplitRecord","comments":"","instanceIdentifier":"d845fb1c-1a31-3372-83c6-fe14b567c7aa"},"labelIndex":1,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"7d89fe38-5c80-3fc9-bdaf-0d3b3842c04d","instanceIdentifier":"b1a21129-0d63-3694-bb54-e49eb169b973","name":"","source":{"id":"c63f9a86-ab7d-3c94-bab1-906cc1a247aa","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"SplitRecord","comments":"","instanceIdentifier":"d845fb1c-1a31-3372-83c6-fe14b567c7aa"},"destination":{"id":"b870bf66-85d6-3095-823a-e6ca19356eed","type":"OUTPUT_PORT","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Tweet","comments":"","instanceIdentifier":"7ecddc1c-b38e-34df-9d6f-d8c2455fb5be"},"labelIndex":1,"zIndex":0,"selectedRelationships":["splits"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"7aaa10cc-79ce-3691-945d-9b65a85258e6","instanceIdentifier":"74a8835c-1c0c-3200-9ac5-e669acd64901","name":"","source":{"id":"5f7e7b54-ba3e-3233-8f29-ab39e442592c","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"ListCDPObjectStore","comments":"","instanceIdentifier":"5294f9f7-c900-3ed6-94c9-819b95a9da72"},"destination":{"id":"dc5e7158-7db7-348f-a8a4-c7df0408978d","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Skip processed files","comments":"","instanceIdentifier":"9c58893a-9879-33de-b5c0-ffe5db27f35d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"f3aa8f5c-8c92-37d9-a531-5d2c63811ad9","instanceIdentifier":"9749b068-516b-3c9c-8d56-7b520114a654","name":"","source":{"id":"0e208bb3-c3f5-389a-96b7-f83ad4142ec5","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Write processed file","comments":"","instanceIdentifier":"e6ef178e-4aa7-3536-82f1-a5fbf3e7a778"},"destination":{"id":"aba280a7-80c1-36a9-a34a-d1df988edbdb","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Delete old file","comments":"","instanceIdentifier":"3ac5c531-d032-3cdd-a9fe-aefdc05f4895"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"90d72b5d-2eff-3c57-ba18-ad41d1661cfb","instanceIdentifier":"3e918095-34ed-3856-9278-db4f29a0a0e9","name":"","source":{"id":"619d4c1f-d863-36c7-ae59-44adc7d45187","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Add processed to filename","comments":"","instanceIdentifier":"8492aa59-3d17-3a28-aeca-44c8a973d61d"},"destination":{"id":"830d1182-39b2-3957-8516-1d1875a7d3c1","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Decompress if needed","comments":"","instanceIdentifier":"f4776b60-117b-32cf-9e9d-6499ba07036b"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"2cc01052-e25a-31f6-a5b5-448cbb99f711","instanceIdentifier":"892cd518-06fa-3341-bc41-c603dc933e5c","name":"","source":{"id":"dc5e7158-7db7-348f-a8a4-c7df0408978d","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Skip processed files","comments":"","instanceIdentifier":"9c58893a-9879-33de-b5c0-ffe5db27f35d"},"destination":{"id":"bb6a6d4a-a3de-3229-9480-968bbe8059ab","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Skip before specific date","comments":"","instanceIdentifier":"34be5208-b27f-3492-95fc-4c268898ea33"},"labelIndex":1,"zIndex":0,"selectedRelationships":["not_processed"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"1f420a99-6632-3432-8c92-7cce280027aa","instanceIdentifier":"7ac424ac-138f-3092-8fff-af9bceba4c52","name":"","source":{"id":"c63f9a86-ab7d-3c94-bab1-906cc1a247aa","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"SplitRecord","comments":"","instanceIdentifier":"d845fb1c-1a31-3372-83c6-fe14b567c7aa"},"destination":{"id":"b710d4b0-0dc7-3c65-9c2b-92d29899ff65","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Compress","comments":"","instanceIdentifier":"c88ab852-3b1d-3f89-89ff-1d17b4fc177f"},"labelIndex":1,"zIndex":0,"selectedRelationships":["original"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"612266a6-a63b-314e-afd6-587da0bb8252","instanceIdentifier":"d7fdeff0-62fd-3d03-a790-83d388ae6358","name":"","source":{"id":"bb6a6d4a-a3de-3229-9480-968bbe8059ab","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Skip before specific date","comments":"","instanceIdentifier":"34be5208-b27f-3492-95fc-4c268898ea33"},"destination":{"id":"68762caa-43fb-36c0-98a9-7ebdc5a25fc7","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Get file","comments":"","instanceIdentifier":"928377a5-3e1a-3da9-9034-d40cb0de5567"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_after_unix_ts"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"6bb73bbf-d61c-3b4a-b1a3-d57797bf7eb4","instanceIdentifier":"6971a68d-d1e2-39ac-9181-1642a8505255","name":"","source":{"id":"830d1182-39b2-3957-8516-1d1875a7d3c1","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Decompress if needed","comments":"","instanceIdentifier":"f4776b60-117b-32cf-9e9d-6499ba07036b"},"destination":{"id":"3655e154-44d0-3086-806e-1925f2775fef","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Decompress","comments":"","instanceIdentifier":"27904b25-6e90-3e32-b14e-cd80f80f6365"},"labelIndex":1,"zIndex":0,"selectedRelationships":["is_compressed"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"cd2d8cf1-72df-3e3d-9259-3e0f6b224521","instanceIdentifier":"5b851973-1439-365d-93c1-b9f209c4d155","name":"","source":{"id":"3655e154-44d0-3086-806e-1925f2775fef","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Decompress","comments":"","instanceIdentifier":"27904b25-6e90-3e32-b14e-cd80f80f6365"},"destination":{"id":"c63f9a86-ab7d-3c94-bab1-906cc1a247aa","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"SplitRecord","comments":"","instanceIdentifier":"d845fb1c-1a31-3372-83c6-fe14b567c7aa"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"},{"identifier":"46a84bd0-a74c-36a1-ab19-6baabc7153b8","instanceIdentifier":"78526ba7-4928-3f75-a76d-61c79fc26810","name":"","source":{"id":"68762caa-43fb-36c0-98a9-7ebdc5a25fc7","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Get file","comments":"","instanceIdentifier":"928377a5-3e1a-3da9-9034-d40cb0de5567"},"destination":{"id":"619d4c1f-d863-36c7-ae59-44adc7d45187","type":"PROCESSOR","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Add processed to filename","comments":"","instanceIdentifier":"8492aa59-3d17-3a28-aeca-44c8a973d61d"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"3c96a770-e1af-3cc6-8721-42f4387679a8"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","instanceIdentifier":"fdc35120-58fb-3ff6-a406-dfee550a3f0d","name":"Back up to Object Storage","comments":"","position":{"x":1456.0,"y":648.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"df9324b7-eb1b-31b8-b9b3-22cbcf391d97","instanceIdentifier":"66e0468b-9cc4-3377-be73-aa53853f30ce","name":"Group tweets in jsonl","comments":"","position":{"x":1050.5,"y":294.5},"type":"org.apache.nifi.processors.standard.MergeRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"max-bin-age":"50 min","correlation-attribute-name":null,"Attribute Strategy":"Keep Only Common Attributes","min-records":"1000","max-bin-size":null,"record-writer":"88cd657a-3fee-3950-ad2f-04c14873d89e","merge-strategy":"Bin-Packing Algorithm","record-reader":"66c430ee-4372-323b-8d5e-26037dc188ab","max-records":"100000","min-bin-size":"0 B","max.bin.count":"10"},"propertyDescriptors":{"max-bin-age":{"name":"max-bin-age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false},"correlation-attribute-name":{"name":"correlation-attribute-name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false},"min-records":{"name":"min-records","displayName":"Minimum Number of Records","identifiesControllerService":false,"sensitive":false},"max-bin-size":{"name":"max-bin-size","displayName":"Maximum Bin Size","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"merge-strategy":{"name":"merge-strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"max-records":{"name":"max-records","displayName":"Maximum Number of Records","identifiesControllerService":false,"sensitive":false},"min-bin-size":{"name":"min-bin-size","displayName":"Minimum Bin Size","identifiesControllerService":false,"sensitive":false},"max.bin.count":{"name":"max.bin.count","displayName":"Maximum Number of Bins","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"131146c6-3de2-3c41-800e-19f3020b39ce","instanceIdentifier":"a069dc3e-d004-39db-a2de-6ed160af07fe","name":"Compress","comments":"","position":{"x":1050.5,"y":806.5},"type":"org.apache.nifi.processors.standard.CompressContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Compression Format":"gzip","Mode":"compress","Compression Level":"1","Update Filename":"true"},"propertyDescriptors":{"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Mode":{"name":"Mode","displayName":"Mode","identifiesControllerService":false,"sensitive":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"Update Filename":{"name":"Update Filename","displayName":"Update Filename","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"b2809ffd-1ead-39b9-a671-bc70dfe8cfd7","instanceIdentifier":"4060d087-fe52-3680-ac63-5256fccca573","name":"Set file name","comments":"","position":{"x":1050.5,"y":550.5},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Delete Attributes Expression":null,"filename":"${now():toNumber()}.${filename:substringBefore('.')}.jsonl","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false},"filename":{"name":"filename","displayName":"filename","identifiesControllerService":false,"sensitive":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"96915065-40a7-3aae-913f-4002cfa11e0a","instanceIdentifier":"52d33097-e0d2-31fb-be27-0f0a69620ead","name":"PutCDPObjectStore","comments":"","position":{"x":1050.5,"y":1062.5},"type":"org.apache.nifi.processors.hadoop.PutCDPObjectStore","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-objectstore-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"kerberos-credentials-service":null,"Kerberos Password":"#{workload_password}","cdp-storage-location":null,"Kerberos Principal":"#{workload_username}","writing-strategy":"simpleWrite","Directory":"#{bucket}/#{backup_storage_path}/tweets","Conflict Resolution Strategy":"fail"},"propertyDescriptors":{"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kerberos Password":{"name":"Kerberos Password","displayName":"CDP Password","identifiesControllerService":false,"sensitive":true},"cdp-storage-location":{"name":"cdp-storage-location","displayName":"Storage Location","identifiesControllerService":false,"sensitive":false},"Kerberos Principal":{"name":"Kerberos Principal","displayName":"CDP Username","identifiesControllerService":false,"sensitive":false},"writing-strategy":{"name":"writing-strategy","displayName":"Writing Strategy","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"}],"inputPorts":[{"identifier":"76add0e2-797b-35d1-9bc2-1a98ea207995","instanceIdentifier":"62ce6919-17a2-3f5b-923f-90cea9337cd7","name":"Tweet","comments":"","position":{"x":552.0,"y":336.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"}],"outputPorts":[],"connections":[{"identifier":"ddd48682-9a6e-3bdb-91b7-cb2f190163c3","instanceIdentifier":"cf8b4733-4245-37b0-a21a-fb9d646c5682","name":"","source":{"id":"131146c6-3de2-3c41-800e-19f3020b39ce","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Compress","comments":"","instanceIdentifier":"a069dc3e-d004-39db-a2de-6ed160af07fe"},"destination":{"id":"96915065-40a7-3aae-913f-4002cfa11e0a","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"PutCDPObjectStore","comments":"","instanceIdentifier":"52d33097-e0d2-31fb-be27-0f0a69620ead"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"3600 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"f70d9d82-4167-35ca-94ff-4c6be2c10fe0","instanceIdentifier":"1b2d2a1f-cd17-3111-a400-a172ab40cfe1","name":"","source":{"id":"76add0e2-797b-35d1-9bc2-1a98ea207995","type":"INPUT_PORT","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Tweet","comments":"","instanceIdentifier":"62ce6919-17a2-3f5b-923f-90cea9337cd7"},"destination":{"id":"df9324b7-eb1b-31b8-b9b3-22cbcf391d97","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Group tweets in jsonl","comments":"","instanceIdentifier":"66e0468b-9cc4-3377-be73-aa53853f30ce"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"3600 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"e630be03-742d-3929-baba-d52fd97f3de1","instanceIdentifier":"1285c189-7f0e-30a7-ad20-85772358e82a","name":"","source":{"id":"96915065-40a7-3aae-913f-4002cfa11e0a","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"PutCDPObjectStore","comments":"","instanceIdentifier":"52d33097-e0d2-31fb-be27-0f0a69620ead"},"destination":{"id":"96915065-40a7-3aae-913f-4002cfa11e0a","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"PutCDPObjectStore","comments":"","instanceIdentifier":"52d33097-e0d2-31fb-be27-0f0a69620ead"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1519.5,"y":1101.5},{"x":1519.5,"y":1151.5}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"ed834bf9-9293-319a-ab23-abcdddc924da","instanceIdentifier":"02e65ca5-bf36-3f82-ade0-97d6b94095cc","name":"","source":{"id":"df9324b7-eb1b-31b8-b9b3-22cbcf391d97","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Group tweets in jsonl","comments":"","instanceIdentifier":"66e0468b-9cc4-3377-be73-aa53853f30ce"},"destination":{"id":"b2809ffd-1ead-39b9-a671-bc70dfe8cfd7","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Set file name","comments":"","instanceIdentifier":"4060d087-fe52-3680-ac63-5256fccca573"},"labelIndex":1,"zIndex":0,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"},{"identifier":"1196b861-ebdc-36f4-8d5c-e263b1970faa","instanceIdentifier":"736ab484-a9f3-362b-bcb9-348ad1e5c9ba","name":"","source":{"id":"b2809ffd-1ead-39b9-a671-bc70dfe8cfd7","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Set file name","comments":"","instanceIdentifier":"4060d087-fe52-3680-ac63-5256fccca573"},"destination":{"id":"131146c6-3de2-3c41-800e-19f3020b39ce","type":"PROCESSOR","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Compress","comments":"","instanceIdentifier":"a069dc3e-d004-39db-a2de-6ed160af07fe"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"9c094883-93c6-3a43-a51c-ad30290ba871","instanceIdentifier":"b5122465-5519-3b07-915b-6c5af28c3b6d","name":"Prepare & Filter Tweets","comments":"","position":{"x":744.0,"y":656.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"c132e98b-8cec-3b88-acce-8fb58e978ac2","instanceIdentifier":"939849bd-ef08-37c1-8c5e-a8388a7edc5c","name":"Route by language/empty/ticker","comments":"","position":{"x":944.0,"y":128.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"filter":"${\n  twitter.msg:isEmpty():not()\n  :and(${language:equals(\"en\")})\n  :and(${twitter.handle:equals(\"ToTheContrary\"):not()})\n  :and(${twitter.handle:equals(\"TheTibetCenter\"):not()})\n  :and(${twitter.msg:toLower():contains(\"$ttc\"):not()})\n  :and(${twitter.msg:toLower():contains(\"tryingtoconceive\"):not()})\n  :and(${twitter.msg:toLower():contains(\"techtrees\"):not()})\n  :and(${twitter.msg:toLower():contains(\"fertility\"):not()})\n  :and(${\n      twitter.full_msg:isEmpty()\n      :or(${\n          twitter.full_msg:toLower():contains(\"$ttc\"):not()\t\n\t      :and(${twitter.full_msg:toLower():contains(\"$ttc\"):not()})\n\t      :and(${twitter.full_msg:toLower():contains(\"tryingtoconceive\"):not()})\n\t      :and(${twitter.full_msg:toLower():contains(\"techtrees\"):not()})\n\t      :and(${twitter.full_msg:toLower():contains(\"fertility\"):not()})\n      })\n  })\n}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"filter":{"name":"filter","displayName":"filter","identifiesControllerService":false,"sensitive":false},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"},{"identifier":"4d8588a1-966a-3d44-8f3c-8f940bd674eb","instanceIdentifier":"0a354ca7-5464-3bd7-88f1-6029498ab42e","name":"Set key attributes","comments":"","position":{"x":945.6001,"y":-130.88594},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Destination":"flowfile-attribute","twitter.msg":"$.text","twitter.hashtag_number":"$.entities.hashtags.length()","Return Type":"auto-detect","Null Value Representation":"empty string","language":"$.lang","twitter.unixtime":"$.timestamp_ms","twitter.full_msg":"$.extended_tweet.full_text","Path Not Found Behavior":"ignore","twitter.handle":"$.user.screen_name","twitter.tweet_id":"$.id","twitter.user":"$.user.name","twitter.time":"$.created_at"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false},"twitter.msg":{"name":"twitter.msg","displayName":"twitter.msg","identifiesControllerService":false,"sensitive":false},"twitter.hashtag_number":{"name":"twitter.hashtag_number","displayName":"twitter.hashtag_number","identifiesControllerService":false,"sensitive":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false},"language":{"name":"language","displayName":"language","identifiesControllerService":false,"sensitive":false},"twitter.unixtime":{"name":"twitter.unixtime","displayName":"twitter.unixtime","identifiesControllerService":false,"sensitive":false},"twitter.full_msg":{"name":"twitter.full_msg","displayName":"twitter.full_msg","identifiesControllerService":false,"sensitive":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false},"twitter.handle":{"name":"twitter.handle","displayName":"twitter.handle","identifiesControllerService":false,"sensitive":false},"twitter.tweet_id":{"name":"twitter.tweet_id","displayName":"twitter.tweet_id","identifiesControllerService":false,"sensitive":false},"twitter.user":{"name":"twitter.user","displayName":"twitter.user","identifiesControllerService":false,"sensitive":false},"twitter.time":{"name":"twitter.time","displayName":"twitter.time","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"ERROR","runDurationMillis":25,"concurrentlySchedulableTaskCount":4,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":0,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"},{"identifier":"c6eb80ca-60fb-3e49-8444-019ed2ebc947","instanceIdentifier":"087650d7-d880-3063-8483-05205ea2babf","name":"Reshape JSON response","comments":"","position":{"x":240.0,"y":128.0},"type":"org.apache.nifi.processors.standard.JoltTransformJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"jolt-spec":"[{\n\t\"operation\": \"shift\",\n\t\"spec\": {\n\t\t\"created_at\": \"created_at\",\n\t\t\"id_str\": \"id\",\n\t\t\"text\": \"text\",\n\t\t\"extended_tweet\": {\n\t\t\t\"full_text\": \"full_text\"\n\t\t},\n\t\t\"favorited\": \"favorited\",\n\t\t\"retweeted\": \"retweeted\",\n\t\t\"possibly_sensitive\": \"possibly_sensitive\",\n\t\t\"lang\": \"lang\",\n\t\t\"timestamp_ms\": \"timestamp_ms\",\n\t\t\"quote_count\": \"quote_count\",\n\t\t\"reply_count\": \"reply_count\",\n\t\t\"retweet_count\": \"retweet_count\",\n\t\t\"favorite_count\": \"favorite_count\",\n\t\t\"user\": {\n\t\t\t\"id\": \"user_id\",\n\t\t\t\"name\": \"user_name\",\n\t\t\t\"screen_name\": \"user_screen_name\",\n\t\t\t\"location\": \"user_location\",\n\t\t\t\"url\": \"user_url\",\n\t\t\t\"description\": \"user_description\",\n\t\t\t\"translator_type\": \"user_translator_type\",\n\t\t\t\"protected\": \"user_protected\",\n\t\t\t\"verified\": \"user_verified\",\n\t\t\t\"followers_count\": \"user_followers_count\",\n\t\t\t\"friends_count\": \"user_friends_count\",\n\t\t\t\"listed_count\": \"user_listed_count\",\n\t\t\t\"favourites_count\": \"user_favourites_count\",\n\t\t\t\"statuses_count\": \"user_statuses_count\",\n\t\t\t\"created_at\": \"user_created_at\",\n\t\t\t\"geo_enabled\": \"user_geo_enabled\",\n\t\t\t\"contributors_enabled\": \"user_contributors_enabled\",\n\t\t\t\"is_translator\": \"user_is_translator\",\n\t\t\t\"default_profile\": \"user_default_profile\"\n\t\t},\n\t\t\"in_reply_to_status_id_str\": \"in_reply_to_id\",\n\t\t\"in_reply_to_screen_name\": \"in_reply_to_screen_name\",\n\t\t\"in_reply_to_user_id_str\": \"in_reply_to_user_id\",\n\t\t\"retweeted_status\": {\n\t\t\t\"id_str\": \"retweet_of_id\"\n\t\t},\n\t\t\"entities\": {\n\t\t\t\"hashtags\": {\n\t\t\t\t\"*\": {\n\t\t\t\t\t\"text\": \"hashtags[]\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}, {\n\t\"operation\": \"modify-overwrite-beta\",\n\t\"spec\": {\n\t\t\"hashtags\": \"=join(',',@(1,hashtags))\"\n\t}\n}]","jolt-transform":"jolt-transform-chain","jolt-custom-class":null,"jolt-custom-modules":null,"pretty_print":"false","Transform Cache Size":"1"},"propertyDescriptors":{"jolt-spec":{"name":"jolt-spec","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false},"jolt-transform":{"name":"jolt-transform","displayName":"Jolt Transformation DSL","identifiesControllerService":false,"sensitive":false},"jolt-custom-class":{"name":"jolt-custom-class","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false},"jolt-custom-modules":{"name":"jolt-custom-modules","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["FILE","DIRECTORY"]}},"pretty_print":{"name":"pretty_print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"}],"inputPorts":[{"identifier":"c758038b-9ccf-3e88-b537-34c6254506a4","instanceIdentifier":"358fbe02-7851-3c3c-8904-2edf0b3cbfe5","name":"Tweet","position":{"x":288.0,"y":-88.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"INPUT_PORT","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"}],"outputPorts":[{"identifier":"7667001a-c8f9-3bd1-8b79-d45c879366b4","instanceIdentifier":"5095d042-1605-30a9-9434-d813c5b819e9","name":"Prepared Tweets","position":{"x":296.0,"y":400.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"componentType":"OUTPUT_PORT","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"}],"connections":[{"identifier":"66759056-fea8-3e57-92e6-42619b8e2f9b","instanceIdentifier":"84df27c2-cb01-3e0b-8eff-534fbed6ed39","name":"","source":{"id":"c758038b-9ccf-3e88-b537-34c6254506a4","type":"INPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Tweet","instanceIdentifier":"358fbe02-7851-3c3c-8904-2edf0b3cbfe5"},"destination":{"id":"4d8588a1-966a-3d44-8f3c-8f940bd674eb","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Set key attributes","comments":"","instanceIdentifier":"0a354ca7-5464-3bd7-88f1-6029498ab42e"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"},{"identifier":"c638c2b4-5b2b-3a9d-8984-ef4afd7dc2f3","instanceIdentifier":"9825e550-2c78-3e5f-90d8-e37326715f1f","name":"","source":{"id":"c132e98b-8cec-3b88-acce-8fb58e978ac2","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Route by language/empty/ticker","comments":"","instanceIdentifier":"939849bd-ef08-37c1-8c5e-a8388a7edc5c"},"destination":{"id":"c6eb80ca-60fb-3e49-8444-019ed2ebc947","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Reshape JSON response","comments":"","instanceIdentifier":"087650d7-d880-3063-8483-05205ea2babf"},"labelIndex":1,"zIndex":0,"selectedRelationships":["filter"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"},{"identifier":"757d70f5-fd8a-3053-b7f2-8c83317ee2e8","instanceIdentifier":"35d552fb-a93f-3260-bed8-e5a91fc6352b","name":"","source":{"id":"4d8588a1-966a-3d44-8f3c-8f940bd674eb","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Set key attributes","comments":"","instanceIdentifier":"0a354ca7-5464-3bd7-88f1-6029498ab42e"},"destination":{"id":"c132e98b-8cec-3b88-acce-8fb58e978ac2","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Route by language/empty/ticker","comments":"","instanceIdentifier":"939849bd-ef08-37c1-8c5e-a8388a7edc5c"},"labelIndex":1,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"},{"identifier":"1efd13f1-eae7-3493-ad48-ab17798ffe42","instanceIdentifier":"42f3c949-2b62-3eac-8a22-c9fb20e18626","name":"","source":{"id":"c6eb80ca-60fb-3e49-8444-019ed2ebc947","type":"PROCESSOR","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Reshape JSON response","comments":"","instanceIdentifier":"087650d7-d880-3063-8483-05205ea2babf"},"destination":{"id":"7667001a-c8f9-3bd1-8b79-d45c879366b4","type":"OUTPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Prepared Tweets","instanceIdentifier":"5095d042-1605-30a9-9434-d813c5b819e9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"9c094883-93c6-3a43-a51c-ad30290ba871"}],"labels":[],"funnels":[],"controllerServices":[],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"}],"remoteProcessGroups":[],"processors":[{"identifier":"2ebdb0cd-458f-3bbf-8ddc-8f306d6c232d","instanceIdentifier":"05b309ed-0187-1000-ffff-fffffacf2a5e","name":"ConsumeTwitter","comments":"","position":{"x":1656.0,"y":216.0},"type":"org.apache.nifi.processors.twitter.ConsumeTwitter","bundle":{"group":"org.apache.nifi","artifact":"nifi-social-media-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"read-timeout":"10 secs","poll-fields":null,"backoff-attempts":"5","place-fields":null,"media-fields":null,"batch-size":"1000","connect-timeout":"10 secs","backoff-time":"1 mins","queue-size":"10000","stream-endpoint":"Sample Endpoint","base-path":"https://api.twitter.com","tweet-fields":"lang,text,created_at,entities,id","maximum-backoff-time":"5 mins","backfill-minutes":"0","user-fields":"name,username,id,verified,verified_type","expansions":null},"propertyDescriptors":{"read-timeout":{"name":"read-timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false},"poll-fields":{"name":"poll-fields","displayName":"Poll Fields","identifiesControllerService":false,"sensitive":false},"backoff-attempts":{"name":"backoff-attempts","displayName":"Backoff Attempts","identifiesControllerService":false,"sensitive":false},"bearer-token":{"name":"bearer-token","displayName":"Bearer Token","identifiesControllerService":false,"sensitive":true},"place-fields":{"name":"place-fields","displayName":"Place Fields","identifiesControllerService":false,"sensitive":false},"media-fields":{"name":"media-fields","displayName":"Media Fields","identifiesControllerService":false,"sensitive":false},"batch-size":{"name":"batch-size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false},"connect-timeout":{"name":"connect-timeout","displayName":"Connect Timeout","identifiesControllerService":false,"sensitive":false},"backoff-time":{"name":"backoff-time","displayName":"Backoff Time","identifiesControllerService":false,"sensitive":false},"queue-size":{"name":"queue-size","displayName":"Queue Size","identifiesControllerService":false,"sensitive":false},"stream-endpoint":{"name":"stream-endpoint","displayName":"Stream Endpoint","identifiesControllerService":false,"sensitive":false},"base-path":{"name":"base-path","displayName":"Base Path","identifiesControllerService":false,"sensitive":false},"tweet-fields":{"name":"tweet-fields","displayName":"Tweet Fields","identifiesControllerService":false,"sensitive":false},"maximum-backoff-time":{"name":"maximum-backoff-time","displayName":"Maximum Backoff Time","identifiesControllerService":false,"sensitive":false},"backfill-minutes":{"name":"backfill-minutes","displayName":"Backfill Minutes","identifiesControllerService":false,"sensitive":false},"user-fields":{"name":"user-fields","displayName":"User Fields","identifiesControllerService":false,"sensitive":false},"expansions":{"name":"expansions","displayName":"Expansions","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"b031ca93-ee5b-3d7d-8103-9dd33bb509a4","instanceIdentifier":"39211c56-a5bc-366b-b701-c1a10e54857a","name":"Plug into stream","comments":"","position":{"x":1104.0,"y":392.0},"type":"org.apache.nifi.processors.twitter.GetTwitter","bundle":{"group":"org.apache.nifi","artifact":"nifi-social-media-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Consumer Key":"#{twitter_api_key}","Consumer Secret":"#{twitter_api_key_secret}","Access Token":"#{twitter_api_access_token}","max-client-error-retries":"500","Languages":null,"IDs to Follow":null,"Twitter Endpoint":"Filter Endpoint","Locations to Filter On":null,"Terms to Filter On":"TTC,ttc","Access Token Secret":"#{twitter_api_access_token_secret}"},"propertyDescriptors":{"Consumer Key":{"name":"Consumer Key","displayName":"Consumer Key","identifiesControllerService":false,"sensitive":true},"Consumer Secret":{"name":"Consumer Secret","displayName":"Consumer Secret","identifiesControllerService":false,"sensitive":true},"Access Token":{"name":"Access Token","displayName":"Access Token","identifiesControllerService":false,"sensitive":true},"max-client-error-retries":{"name":"max-client-error-retries","displayName":"Max Client Error Retries","identifiesControllerService":false,"sensitive":false},"Languages":{"name":"Languages","displayName":"Languages","identifiesControllerService":false,"sensitive":false},"IDs to Follow":{"name":"IDs to Follow","displayName":"IDs to Follow","identifiesControllerService":false,"sensitive":false},"Twitter Endpoint":{"name":"Twitter Endpoint","displayName":"Twitter Endpoint","identifiesControllerService":false,"sensitive":false},"Locations to Filter On":{"name":"Locations to Filter On","displayName":"Locations to Filter On","identifiesControllerService":false,"sensitive":false},"Terms to Filter On":{"name":"Terms to Filter On","displayName":"Terms to Filter On","identifiesControllerService":false,"sensitive":false},"Access Token Secret":{"name":"Access Token Secret","displayName":"Access Token Secret","identifiesControllerService":false,"sensitive":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"PRIMARY","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":0,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"8e7d47a7-2e68-3781-a12b-b6f441464a92","instanceIdentifier":"6496ea6f-a166-3aa2-bc73-aad7e9b2f1b9","name":"Publish2 Kafka","comments":"","position":{"x":1088.0,"y":952.0},"type":"org.apache.nifi.processors.kafka.pubsub.PublishKafka2RecordCDP","bundle":{"group":"com.cloudera","artifact":"nifi-cdf-kafka-2-nar","version":"1.0.0.2.2.6.0-260"},"properties":{"compression.type":"none","attribute-name-regex":null,"record-writer":"88cd657a-3fee-3950-ad2f-04c14873d89e","bootstrap.servers":"#{kafka_brokers}","sasl.kerberos.principal":null,"sasl.kerberos.service.name":null,"kerberos-credentials-service":null,"partition":null,"record-key-writer":null,"sasl.mechanism":"PLAIN","max.block.ms":"5 sec","interceptor.classes":"com.hortonworks.smm.kafka.monitoring.interceptors.MonitoringProducerInterceptor","record-reader":"66c430ee-4372-323b-8d5e-26037dc188ab","message-header-encoding":"UTF-8","kerberos-user-service":null,"transactional-id-prefix":null,"ack.wait.time":"5 secs","sasl.username":"#{workload_username}","use-transactions":"false","acks":"all","Record Metadata Strategy":"Use Configured Values","security.protocol":"SASL_SSL","ssl.context.service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","max.request.size":"1 MB","sasl.token.auth":"false","message-key-field":null,"Failure Strategy":"Route to Failure","partitioner.class":"org.apache.kafka.clients.producer.internals.DefaultPartitioner","sasl.kerberos.keytab":null,"topic":"#{kafka_topic_tweets}","sasl.password":"#{workload_password}","publish-strategy":"USE_VALUE"},"propertyDescriptors":{"compression.type":{"name":"compression.type","displayName":"Compression Type","identifiesControllerService":false,"sensitive":false},"attribute-name-regex":{"name":"attribute-name-regex","displayName":"Attributes to Send as Headers (Regex)","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"bootstrap.servers":{"name":"bootstrap.servers","displayName":"Kafka Brokers","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.principal":{"name":"sasl.kerberos.principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.service.name":{"name":"sasl.kerberos.service.name","displayName":"Kerberos Service Name","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"partition":{"name":"partition","displayName":"Partition","identifiesControllerService":false,"sensitive":false},"record-key-writer":{"name":"record-key-writer","displayName":"Record Key Writer","identifiesControllerService":true,"sensitive":false},"sasl.mechanism":{"name":"sasl.mechanism","displayName":"SASL Mechanism","identifiesControllerService":false,"sensitive":false},"max.block.ms":{"name":"max.block.ms","displayName":"Max Metadata Wait Time","identifiesControllerService":false,"sensitive":false},"interceptor.classes":{"name":"interceptor.classes","displayName":"interceptor.classes","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"message-header-encoding":{"name":"message-header-encoding","displayName":"Message Header Encoding","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"transactional-id-prefix":{"name":"transactional-id-prefix","displayName":"Transactional Id Prefix","identifiesControllerService":false,"sensitive":false},"ack.wait.time":{"name":"ack.wait.time","displayName":"Acknowledgment Wait Time","identifiesControllerService":false,"sensitive":false},"sasl.username":{"name":"sasl.username","displayName":"Username","identifiesControllerService":false,"sensitive":false},"use-transactions":{"name":"use-transactions","displayName":"Use Transactions","identifiesControllerService":false,"sensitive":false},"acks":{"name":"acks","displayName":"Delivery Guarantee","identifiesControllerService":false,"sensitive":false},"Record Metadata Strategy":{"name":"Record Metadata Strategy","displayName":"Record Metadata Strategy","identifiesControllerService":false,"sensitive":false},"security.protocol":{"name":"security.protocol","displayName":"Security Protocol","identifiesControllerService":false,"sensitive":false},"ssl.context.service":{"name":"ssl.context.service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"max.request.size":{"name":"max.request.size","displayName":"Max Request Size","identifiesControllerService":false,"sensitive":false},"sasl.token.auth":{"name":"sasl.token.auth","displayName":"Token Auth","identifiesControllerService":false,"sensitive":false},"message-key-field":{"name":"message-key-field","displayName":"Message Key Field","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"partitioner.class":{"name":"partitioner.class","displayName":"Partitioner class","identifiesControllerService":false,"sensitive":false},"sasl.kerberos.keytab":{"name":"sasl.kerberos.keytab","displayName":"Kerberos Keytab","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"topic":{"name":"topic","displayName":"Topic Name","identifiesControllerService":false,"sensitive":false},"sasl.password":{"name":"sasl.password","displayName":"Password","identifiesControllerService":false,"sensitive":true},"publish-strategy":{"name":"publish-strategy","displayName":"Publish Strategy","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"f00c14ee-e38c-32a7-a95c-89355ec5d14e","instanceIdentifier":"348f50e6-f42d-3ce1-8a9e-1784b7459dac","name":"Insert records","comments":"","position":{"x":384.0,"y":952.0},"type":"org.apache.nifi.processors.kudu.PutKudu","bundle":{"group":"org.apache.nifi","artifact":"nifi-kudu-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Ignore NULL":"false","Table Name":"#{db}.#{raw_tweets_table}","kerberos-password":"#{workload_password}","Handle Schema Drift":"false","kudu-sasl-protocol-name":"kudu","kerberos-principal":"#{workload_username}","Lowercase Field Names":"true","Insert Operation":"INSERT_IGNORE","kudu-operations-timeout-ms":"30000ms","Skip head line":"false","FlowFiles per Batch":"1","kerberos-credentials-service":null,"Kudu Masters":"#{kudu_master_hosts}","Flush Mode":"AUTO_FLUSH_BACKGROUND","Failure Strategy":"route-to-failure","Batch Size":"100","Data RecordPath":null,"kerberos-user-service":null,"record-reader":"66c430ee-4372-323b-8d5e-26037dc188ab","worker-count":"16","kudu-keep-alive-period-timeout-ms":"15000ms","Operation RecordPath":null},"propertyDescriptors":{"Ignore NULL":{"name":"Ignore NULL","displayName":"Ignore NULL","identifiesControllerService":false,"sensitive":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false},"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"Handle Schema Drift":{"name":"Handle Schema Drift","displayName":"Handle Schema Drift","identifiesControllerService":false,"sensitive":false},"kudu-sasl-protocol-name":{"name":"kudu-sasl-protocol-name","displayName":"Kudu SASL Protocol Name","identifiesControllerService":false,"sensitive":false},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"Lowercase Field Names":{"name":"Lowercase Field Names","displayName":"Lowercase Field Names","identifiesControllerService":false,"sensitive":false},"Insert Operation":{"name":"Insert Operation","displayName":"Kudu Operation Type","identifiesControllerService":false,"sensitive":false},"kudu-operations-timeout-ms":{"name":"kudu-operations-timeout-ms","displayName":"Kudu Operation Timeout","identifiesControllerService":false,"sensitive":false},"Skip head line":{"name":"Skip head line","displayName":"Skip head line","identifiesControllerService":false,"sensitive":false},"FlowFiles per Batch":{"name":"FlowFiles per Batch","displayName":"FlowFiles per Batch","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"Kudu Masters":{"name":"Kudu Masters","displayName":"Kudu Masters","identifiesControllerService":false,"sensitive":false},"Flush Mode":{"name":"Flush Mode","displayName":"Flush Mode","identifiesControllerService":false,"sensitive":false},"Failure Strategy":{"name":"Failure Strategy","displayName":"Failure Strategy","identifiesControllerService":false,"sensitive":false},"Batch Size":{"name":"Batch Size","displayName":"Max Records per Batch","identifiesControllerService":false,"sensitive":false},"Data RecordPath":{"name":"Data RecordPath","displayName":"Data RecordPath","identifiesControllerService":false,"sensitive":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"worker-count":{"name":"worker-count","displayName":"Kudu Client Worker Count","identifiesControllerService":false,"sensitive":false},"kudu-keep-alive-period-timeout-ms":{"name":"kudu-keep-alive-period-timeout-ms","displayName":"Kudu Keep Alive Period Timeout","identifiesControllerService":false,"sensitive":false},"Operation RecordPath":{"name":"Operation RecordPath","displayName":"Operation RecordPath","identifiesControllerService":false,"sensitive":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"a9561d21-30f9-348f-8929-147254a40791","instanceIdentifier":"0b32426e-0187-1000-ffff-ffff8c1120b8","name":"","source":{"id":"b870bf66-85d6-3095-823a-e6ca19356eed","type":"OUTPUT_PORT","groupId":"3c96a770-e1af-3cc6-8721-42f4387679a8","name":"Tweet","comments":"","instanceIdentifier":"7ecddc1c-b38e-34df-9d6f-d8c2455fb5be"},"destination":{"id":"c758038b-9ccf-3e88-b537-34c6254506a4","type":"INPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Tweet","instanceIdentifier":"358fbe02-7851-3c3c-8904-2edf0b3cbfe5"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"d3a8847a-81e1-30d2-a8c7-5b1bc09b1bf5","instanceIdentifier":"05b54070-0187-1000-0000-00003ae042b3","name":"","source":{"id":"2ebdb0cd-458f-3bbf-8ddc-8f306d6c232d","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"ConsumeTwitter","comments":"","instanceIdentifier":"05b309ed-0187-1000-ffff-fffffacf2a5e"},"destination":{"id":"71b7572d-e03c-3188-82ee-c7600fc6a3b2","type":"FUNNEL","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Funnel","comments":"","instanceIdentifier":"05b52ad8-0187-1000-ffff-ffff8fba1e91"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"6bf443d3-6d11-38c4-8675-f5b648cf1d0a","instanceIdentifier":"ded8ec72-8fc9-380f-8818-05d0259bf9e6","name":"","source":{"id":"8e7d47a7-2e68-3781-a12b-b6f441464a92","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Publish2 Kafka","comments":"","instanceIdentifier":"6496ea6f-a166-3aa2-bc73-aad7e9b2f1b9"},"destination":{"id":"8e7d47a7-2e68-3781-a12b-b6f441464a92","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Publish2 Kafka","comments":"","instanceIdentifier":"6496ea6f-a166-3aa2-bc73-aad7e9b2f1b9"},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":1557.0,"y":991.0},{"x":1557.0,"y":1041.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"45ee9f43-7e8b-3085-b0ce-a8a63a38e93e","instanceIdentifier":"23552381-3103-3096-a079-10dc6b4625a2","name":"","source":{"id":"7667001a-c8f9-3bd1-8b79-d45c879366b4","type":"OUTPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Prepared Tweets","instanceIdentifier":"5095d042-1605-30a9-9434-d813c5b819e9"},"destination":{"id":"8e7d47a7-2e68-3781-a12b-b6f441464a92","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Publish2 Kafka","comments":"","instanceIdentifier":"6496ea6f-a166-3aa2-bc73-aad7e9b2f1b9"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"1d9804c4-8402-3a57-b976-e540f843b95c","instanceIdentifier":"02a6cb6c-6c35-319f-a41c-f02da36b3cfe","name":"","source":{"id":"b031ca93-ee5b-3d7d-8103-9dd33bb509a4","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Plug into stream","comments":"","instanceIdentifier":"39211c56-a5bc-366b-b701-c1a10e54857a"},"destination":{"id":"76add0e2-797b-35d1-9bc2-1a98ea207995","type":"INPUT_PORT","groupId":"0c575e51-8a1d-3f8c-acbd-a0e49e8fb63e","name":"Tweet","comments":"","instanceIdentifier":"62ce6919-17a2-3f5b-923f-90cea9337cd7"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"6548ade1-4e38-3c91-a36b-10f9ee686473","instanceIdentifier":"9e62b872-5ff9-3d7d-b9b4-01f424c9ddb3","name":"","source":{"id":"7667001a-c8f9-3bd1-8b79-d45c879366b4","type":"OUTPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Prepared Tweets","instanceIdentifier":"5095d042-1605-30a9-9434-d813c5b819e9"},"destination":{"id":"f00c14ee-e38c-32a7-a95c-89355ec5d14e","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Insert records","comments":"","instanceIdentifier":"348f50e6-f42d-3ce1-8a9e-1784b7459dac"},"labelIndex":1,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"743967b8-4db4-3378-803d-68a5e92f8f58","instanceIdentifier":"14e7411d-7d94-3ac1-b826-624fa38bee4d","name":"","source":{"id":"b031ca93-ee5b-3d7d-8103-9dd33bb509a4","type":"PROCESSOR","groupId":"5abf9153-ad98-376e-99f1-b0d6b56610d4","name":"Plug into stream","comments":"","instanceIdentifier":"39211c56-a5bc-366b-b701-c1a10e54857a"},"destination":{"id":"c758038b-9ccf-3e88-b537-34c6254506a4","type":"INPUT_PORT","groupId":"9c094883-93c6-3a43-a51c-ad30290ba871","name":"Tweet","instanceIdentifier":"358fbe02-7851-3c3c-8904-2edf0b3cbfe5"},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"}],"labels":[],"funnels":[{"identifier":"71b7572d-e03c-3188-82ee-c7600fc6a3b2","instanceIdentifier":"05b52ad8-0187-1000-ffff-ffff8fba1e91","position":{"x":1592.0,"y":440.0},"componentType":"FUNNEL","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"}],"controllerServices":[{"identifier":"88cd657a-3fee-3950-ad2f-04c14873d89e","instanceIdentifier":"a848d340-ecf4-3fb4-815c-fab3be3ee6c2","name":"JsonRecordSetWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"always-suppress","output-grouping":"output-oneline","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"},{"identifier":"66c430ee-4372-323b-8d5e-26037dc188ab","instanceIdentifier":"d878db55-54ae-3ea8-a1ce-6c3e2d835661","name":"JsonTreeReader","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"5abf9153-ad98-376e-99f1-b0d6b56610d4"}],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[{"identifier":"34b089a8-a519-3cc0-80cc-51acd1133cd0","instanceIdentifier":"ffe0a93a-0186-1000-0000-000018b1d45d","position":{"x":216.0,"y":-480.0},"label":"PASSIVE INGESTION\nStreams & Listeners","zIndex":0,"width":1248.0,"height":440.0,"style":{"background-color":"#ffe4d6","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"53ea287e-b70d-3133-8240-64f2fb9b16a0","instanceIdentifier":"72e93348-80a6-1089-b481-84cee1e7bed5","position":{"x":232.0,"y":56.0},"label":"TTC\nZIP Files & GET \"stream\"","zIndex":1,"width":400.0,"height":456.0,"style":{"background-color":"#2e7fab","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"f10eb308-6eaf-3460-904c-c318e26f4ca2","instanceIdentifier":"bce13fbe-c3f9-1417-afce-a14eda301676","position":{"x":1048.0,"y":56.0},"label":"MISC\nGET \"stream\"","zIndex":3,"width":400.0,"height":456.0,"style":{"background-color":"#2e7fab","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"347b4588-1851-3afc-bb4f-163c7cc7cebf","instanceIdentifier":"457130d5-bb70-1843-9dea-82069f4d36a7","position":{"x":216.0,"y":-16.0},"label":"ACTIVE INGESTION\nBatch & Polling (Simulated Streams)","zIndex":0,"width":1248.0,"height":560.0,"style":{"background-color":"#d4f3ff","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"4e1c00fe-247e-378b-b5f6-b91f0f37d6f4","instanceIdentifier":"06603193-3181-1592-9638-7a699505a5bb","position":{"x":640.0,"y":56.0},"label":"Open Data\nREST API & Image Files","zIndex":2,"width":400.0,"height":456.0,"style":{"background-color":"#2e7fab","font-size":"18px"},"componentType":"LABEL","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"}],"funnels":[],"controllerServices":[{"identifier":"e726333a-1f34-3292-8640-c808a6383601","instanceIdentifier":"0b0efdb6-0187-1000-0000-00003dc47c79","name":"JSON writer with SR schema","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"schema-name","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","Time Format":null,"schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"8e5691f1-7ea8-330b-8155-f2455304d0a2","instanceIdentifier":"0b23e99c-0187-1000-0000-000014b88ca6","name":"Avro reader with SR schema","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"946393f4-0305-31b3-8d52-2c4d11d9bc2b","instanceIdentifier":"0b10455a-0187-1000-ffff-ffffd195932a","name":"JSON reader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"027d90f8-b86f-3178-832c-0ceb1aa1d689","instanceIdentifier":"0b111fe1-0187-1000-0000-00004c1d65c9","name":"Standard HTTP ctx","comments":"","type":"org.apache.nifi.http.StandardHttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-http-context-map-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Request Expiration":"1 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"name":"Request Expiration","displayName":"Request Expiration","identifiesControllerService":false,"sensitive":false},"Maximum Outstanding Requests":{"name":"Maximum Outstanding Requests","displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.http.HttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"b09d941a-a200-3c19-a226-fb18f0d1fc97","instanceIdentifier":"0b10a7d2-0187-1000-0000-00004f0ea0ab","name":"JSON writer","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"96b34abb-ad12-3798-9fea-2e53f2b74d1b","instanceIdentifier":"0b0e3319-0187-1000-ffff-ffffe867850b","name":"JSON reader with SR schema","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","starting-field-name":null,"Time Format":null,"schema-access-strategy":"schema-name","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"fd8926b7-cb30-346d-82b1-4ff079d3cfd1","instanceIdentifier":"0b2aea2e-0187-1000-ffff-ffff801a03cf","name":"CSV reader no headers","comments":"","type":"org.apache.nifi.csv.CSVReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"ignore-csv-header":"false","schema-branch":null,"Trim double quote":"true","CSV Format":"custom","Quote Character":"\"","csvutils-allow-duplicate-header-names":"true","Value Separator":",","Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Null String":null,"Skip Header Line":"false","Trim Fields":"true","schema-name":"${schema.name}","schema-registry":null,"csv-reader-csv-parser":"commons-csv","Time Format":null,"Comment Marker":null,"schema-access-strategy":"infer-schema","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}"},"propertyDescriptors":{"ignore-csv-header":{"name":"ignore-csv-header","displayName":"Ignore CSV Header Column Names","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Trim double quote":{"name":"Trim double quote","displayName":"Trim double quote","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"csvutils-allow-duplicate-header-names":{"name":"csvutils-allow-duplicate-header-names","displayName":"Allow Duplicate Header Names","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Skip Header Line":{"name":"Skip Header Line","displayName":"Treat First Line as Header","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"csv-reader-csv-parser":{"name":"csv-reader-csv-parser","displayName":"CSV Parser","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","instanceIdentifier":"0b0ce21e-0187-1000-ffff-ffffa8e444c4","name":"Schema Registry Controller","comments":"","type":"org.apache.nifi.schemaregistry.hortonworks.HortonworksSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-hwx-schema-registry-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"cache-expiration":"1 hour","kerberos-credentials-service":null,"kerberos-password":"#{workload_password}","ssl-context-service":"8e496300-40c3-3f3c-9445-dfb7df2facd8","cache-size":"1000","kerberos-principal":"#{workload_username}","basic-auth-username":null,"url":"#{schema_registry_api_v1}"},"propertyDescriptors":{"cache-expiration":{"name":"cache-expiration","displayName":"Cache Expiration","identifiesControllerService":false,"sensitive":false},"kerberos-credentials-service":{"name":"kerberos-credentials-service","displayName":"Kerberos Credentials Service","identifiesControllerService":true,"sensitive":false},"kerberos-password":{"name":"kerberos-password","displayName":"Kerberos Password","identifiesControllerService":false,"sensitive":true},"ssl-context-service":{"name":"ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"basic-auth-password":{"name":"basic-auth-password","displayName":"Basic Authentication Password","identifiesControllerService":false,"sensitive":true},"kerberos-principal":{"name":"kerberos-principal","displayName":"Kerberos Principal","identifiesControllerService":false,"sensitive":false},"basic-auth-username":{"name":"basic-auth-username","displayName":"Basic Authentication Username","identifiesControllerService":false,"sensitive":false},"url":{"name":"url","displayName":"Schema Registry URL","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.SchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"8e496300-40c3-3f3c-9445-dfb7df2facd8","instanceIdentifier":"ffd093dd-0186-1000-0000-00002f268a35","name":"Default NiFi SSL Context Service","type":"org.apache.nifi.ssl.StandardRestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"Truststore Type":"JKS","SSL Protocol":"TLS","Keystore Type":"JKS","Truststore Filename":"/hadoopfs/fs4/working-dir/cm-auto-global_truststore.jks","Keystore Filename":"/hadoopfs/fs4/working-dir/cm-auto-host_keystore.jks"},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false},"SSL Protocol":{"name":"SSL Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true},"key-password":{"name":"key-password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}},{"type":"org.apache.nifi.ssl.RestrictedSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"ffdf1c15-0186-1000-ffff-ffffe4167706"},{"identifier":"9a9e922f-7ed6-3ba8-8be4-829488801a54","instanceIdentifier":"0b5f07c8-0187-1000-ffff-ffffc7fe1739","name":"Avro with schema attribute","comments":"","type":"org.apache.nifi.avro.AvroRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"compression-format":"NONE","Schema Write Strategy":"full-schema-attribute","schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"encoder-pool-size":"32","schema-cache":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"encoder-pool-size":{"name":"encoder-pool-size","displayName":"Encoder Pool Size","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"f73b2b95-673f-3304-b922-bdce9d1af314","instanceIdentifier":"0b1e53cf-0187-1000-0000-000067d19f3b","name":"CSV reader with headers + SR schema","comments":"","type":"org.apache.nifi.csv.CSVReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"ignore-csv-header":"false","schema-branch":null,"Trim double quote":"true","CSV Format":"custom","Quote Character":"\"","csvutils-allow-duplicate-header-names":"true","Value Separator":",","Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Null String":null,"Skip Header Line":"true","Trim Fields":"true","schema-name":"${schema.name}","schema-registry":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","csv-reader-csv-parser":"commons-csv","Time Format":null,"Comment Marker":null,"schema-access-strategy":"schema-name","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}"},"propertyDescriptors":{"ignore-csv-header":{"name":"ignore-csv-header","displayName":"Ignore CSV Header Column Names","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"Trim double quote":{"name":"Trim double quote","displayName":"Trim double quote","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"csvutils-allow-duplicate-header-names":{"name":"csvutils-allow-duplicate-header-names","displayName":"Allow Duplicate Header Names","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Skip Header Line":{"name":"Skip Header Line","displayName":"Treat First Line as Header","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"csv-reader-csv-parser":{"name":"csv-reader-csv-parser","displayName":"CSV Parser","identifiesControllerService":false,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"26f16180-2f5c-3a13-8833-b49ab15a020e","instanceIdentifier":"0b1b3ce8-0187-1000-ffff-ffff9c97f239","name":"CSV writer","comments":"","type":"org.apache.nifi.csv.CSVRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"schema-branch":null,"CSV Format":"custom","Quote Character":"\"","Include Header Line":"true","Value Separator":",","schema-cache":null,"Record Separator":"\\n","Timestamp Format":null,"Escape Character":"\\","Date Format":null,"Schema Write Strategy":"no-schema","Null String":null,"Trim Fields":"true","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"Comment Marker":null,"schema-access-strategy":"inherit-record-schema","schema-protocol-version":"1","schema-version":null,"csvutils-character-set":"UTF-8","schema-text":"${avro.schema}","Quote Mode":"MINIMAL","Include Trailing Delimiter":"false"},"propertyDescriptors":{"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"CSV Format":{"name":"CSV Format","displayName":"CSV Format","identifiesControllerService":false,"sensitive":false},"Quote Character":{"name":"Quote Character","displayName":"Quote Character","identifiesControllerService":false,"sensitive":false},"Include Header Line":{"name":"Include Header Line","displayName":"Include Header Line","identifiesControllerService":false,"sensitive":false},"Value Separator":{"name":"Value Separator","displayName":"Value Separator","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"Record Separator":{"name":"Record Separator","displayName":"Record Separator","identifiesControllerService":false,"sensitive":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false},"Escape Character":{"name":"Escape Character","displayName":"Escape Character","identifiesControllerService":false,"sensitive":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"Null String":{"name":"Null String","displayName":"Null String","identifiesControllerService":false,"sensitive":false},"Trim Fields":{"name":"Trim Fields","displayName":"Trim Fields","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false},"Comment Marker":{"name":"Comment Marker","displayName":"Comment Marker","identifiesControllerService":false,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"csvutils-character-set":{"name":"csvutils-character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false},"Quote Mode":{"name":"Quote Mode","displayName":"Quote Mode","identifiesControllerService":false,"sensitive":false},"Include Trailing Delimiter":{"name":"Include Trailing Delimiter","displayName":"Include Trailing Delimiter","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"},{"identifier":"e379251e-5184-3f68-ab1a-94dbac0e06da","instanceIdentifier":"0b279f31-0187-1000-ffff-ffff868313bd","name":"Avro writer with SR schema","comments":"","type":"org.apache.nifi.avro.AvroRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"1.18.0.2.2.6.0-260"},"properties":{"compression-format":"NONE","Schema Write Strategy":"avro-embedded","schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":"1f0993c4-615b-388d-83a3-eeb0fbd49bee","schema-access-strategy":"schema-name","schema-protocol-version":"1","schema-version":null,"encoder-pool-size":"32","schema-cache":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false},"schema-protocol-version":{"name":"schema-protocol-version","displayName":"Schema Protocol Version","identifiesControllerService":false,"sensitive":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false},"encoder-pool-size":{"name":"encoder-pool-size","displayName":"Encoder Pool Size","identifiesControllerService":false,"sensitive":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"1.18.0.2.2.6.0-260"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"a3ab16f2-67b9-3db2-81f7-3f5cd874a2a1"}],"variables":{},"parameterContextName":"ingestion_params","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{"ingestion_params":{"name":"ingestion_params","parameters":[{"name":"schema_fitbit_heartbeat","description":"","sensitive":false,"provided":false,"value":"fitbit_heartbeat"},{"name":"openweather_api_key","description":"Get your own, the free tier is very generous for the current weather! From here; https://home.openweathermap.org/api_keys","sensitive":false,"provided":false,"value":"ac7e9d7125c74a06c735567c5b8af962"},{"name":"schema_weather_current_flat","description":"","sensitive":false,"provided":false,"value":"openweather_current_flat"},{"name":"ckan_site_url","description":"","sensitive":false,"provided":false,"value":"https://ckan0.cf.opendata.inter.prod-toronto.ca"},{"name":"twitter_api_access_token","description":"","sensitive":true,"provided":false},{"name":"fitbit_app_client_secret","description":"","sensitive":false,"provided":false,"value":"7c4de3071344d3a6758739d122fa4733"},{"name":"bucket","description":"Storage bucket","sensitive":false,"provided":false,"value":"s3a://sckkds-storage"},{"name":"fitbit_app_client_id","description":"","sensitive":false,"provided":false,"value":"2397Q5"},{"name":"db_filler","description":"Database to hold various tables created to fill in space. Not related to TTC demo.","sensitive":false,"provided":false,"value":"exploration"},{"name":"kafka_topic_fitbit_day_heartbeats","description":"","sensitive":false,"provided":false,"value":"fitbit_day_heartbeats"},{"name":"schema_registry_api_v1","description":"Note that when this was created, the SR API did not support Knox, so you need to point to the master node of the Kafka data hub. This is a known issue. The format of the URL will be:\n\nhttps://{kafka_data_hub_master_node_fqn}:7790/api/v1","sensitive":false,"provided":false,"value":"https://messaging-master0.sckkds-d.a465-9q4k.cloudera.site:7790/api/v1"},{"name":"schema_ttc_next_vehicle_arrival","description":"","sensitive":false,"provided":false,"value":"next_vehicle_arrival"},{"name":"ckan_api_url","description":"Root URL of ckan api up to /action to use for loading sample datasets","sensitive":false,"provided":false,"value":"api/3/action"},{"name":"kafka_brokers","description":"","sensitive":false,"provided":false,"value":"messaging-corebroker0.sckkds-d.a465-9q4k.cloudera.site:9093,messaging-corebroker1.sckkds-d.a465-9q4k.cloudera.site:9093,messaging-corebroker2.sckkds-d.a465-9q4k.cloudera.site:9093"},{"name":"db","description":"Name of database in use","sensitive":false,"provided":false,"value":"operations"},{"name":"kafka_topic_weather_flat","description":"Flattened version of current weather","sensitive":false,"provided":false,"value":"weather_current_flat"},{"name":"kudu_master_hosts","description":"","sensitive":false,"provided":false,"value":"real-time-dw-master10.sckkds-d.a465-9q4k.cloudera.site,real-time-dw-master20.sckkds-d.a465-9q4k.cloudera.site,real-time-dw-master30.sckkds-d.a465-9q4k.cloudera.site"},{"name":"external_table_path","description":"path to external HIVE tables for saving files","sensitive":false,"provided":false,"value":"warehouse/tablespace/external/hive"},{"name":"openweather_api_units","description":"Can be metric or imperial","sensitive":false,"provided":false,"value":"metric"},{"name":"openweather_api_locations","description":"Latitude and longitude of locations to get the current weather for, in JSON","sensitive":false,"provided":false,"value":"[\n  { \"city\": \"North York\", \"lat\": \"43.7668\", \"lon\": \"-79.4163\" },\n  { \"city\": \"Toronto\", \"lat\": \"43.7001\", \"lon\": \"-79.416\" },\n  { \"city\": \"Miami\", \"lat\": \"25.7743\", \"lon\": \"-80.1937\" }\n]"},{"name":"schema_fitbit_intraday_heartbeats","description":"","sensitive":false,"provided":false,"value":"fitbit_intraday_heartbeats"},{"name":"fitbit_request_token_url","description":"","sensitive":false,"provided":false,"value":"https://api.fitbit.com/oauth2/token"},{"name":"traffic_cameras_ckan_pkg","description":"","sensitive":false,"provided":false,"value":"traffic-cameras"},{"name":"schema_weather_current","description":"","sensitive":false,"provided":false,"value":"openweather_current"},{"name":"kafka_topic_tweets","description":"","sensitive":false,"provided":false,"value":"tweets"},{"name":"twitter_api_key_secret","description":"","sensitive":true,"provided":false},{"name":"road_restrictions_url","description":"","sensitive":false,"provided":false,"value":"https://secure.toronto.ca/opendata/cart/road_restrictions/v3?format=json"},{"name":"twitter_api_access_token_secret","description":"","sensitive":true,"provided":false},{"name":"workload_username","description":"","sensitive":false,"provided":false,"value":"chernandez"},{"name":"workload_password","description":"password of workload user","sensitive":true,"provided":false},{"name":"kafka_topic_weather","description":"","sensitive":false,"provided":false,"value":"weather_current"},{"name":"fitbit_authorize_url","description":"","sensitive":false,"provided":false,"value":"https://www.fitbit.com/oauth2/authorize"},{"name":"backup_storage_path","description":"object storage path to be used for backups (e.g. tweets) and other artifacts","sensitive":false,"provided":false,"value":"/dataflow/backups"},{"name":"fitbit_app_api_refresh_rate_seconds","description":"","sensitive":false,"provided":false,"value":"60"},{"name":"ttc_api_url","description":"","sensitive":false,"provided":false,"value":"https://webservices.umoiq.com/service/publicJSONFeed"},{"name":"kafka_topic_next_vehicle_arrival","description":"","sensitive":false,"provided":false,"value":"ttc-next-vehicle-arrivals"},{"name":"fitbit_authenticate_url","description":"","sensitive":false,"provided":false,"value":"https://www.fitbit.com/oauth2/authenticate"},{"name":"twitter_api_key","description":"Twitter API v2 key","sensitive":true,"provided":false},{"name":"kafka_topic_fitbit_heartbeats","description":"","sensitive":false,"provided":false,"value":"fitbit_heartbeat"},{"name":"prediction_routes","description":"Testing: passing multiple routes and getting predictions for all their stops","sensitive":false,"provided":false,"value":"501\n28"},{"name":"kafka_topic_fitbit_api_tokens","description":"","sensitive":false,"provided":false,"value":"fitbit_api_token"},{"name":"raw_tweets_table","description":"","sensitive":false,"provided":false,"value":"raw_tweets"},{"name":"gtfs_data_url","description":"location of GTFS data zip file","sensitive":false,"provided":false,"value":"https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/7795b45e-e65a-4465-81fc-c36b9dfff169/resource/cfb6b2b8-6191-41e3-bda1-b175c51148cb/download/TTC%20Routes%20and%20Schedules%20Data.zip"},{"name":"image_storage_path","description":"","sensitive":false,"provided":false,"value":"images"}],"inheritedParameterContexts":[],"componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}